# PLCT 开源进展·第 54 期·2024 年 2 月 1 日

## 卷首语


## 本期亮点

（请从 RuyiSDK、CNRV、openEuler 等公众号以及相关群聊中汇总素材）

## RuyiSDK IDE

## RuyiSDK 包管理器

## V8

## Spidermonkey

## OpenJDK Upstream

## OpenJDK RV32G

## OpenJDK8 Backporting

## OpenCV RISC-V 优化

## GNU Toolchain

(可以根据每个人的产出分开，按照人名增加三级缩进，也可以由 leader/mentor 汇总后统一PR)

### Jiawei Chen

### Shihua Liao

### Yixuan Chen

### Yulong Shi

### Yang Liu

去年提的一个 binutils-gdb patch 已经合入主线：

[gdb: RISC-V: Refine lr/sc sequence support](https://sourceware.org/git/?p=binutils-gdb.git;a=commit;h=b273287f4e7f111c1bb667267c6bde4fdd8418c7)

## LLVM Monorepo

### Chunyu Liao

### Kiva

### Yongtai Li

### Junjie Zheng

### Tianyu Zhang

## gollvm

## LIBCXX Experimental/simd

## LuaJIT RV64G Porting

## gem5

## Spike

## QEMU

## DynamoRIO RV64GC

- [i#5926: Update elfutils submodule to https protocol](https://github.com/DynamoRIO/dynamorio/pull/6560)
- [i#6508: Fix a compilation error in release build](https://github.com/DynamoRIO/dynamorio/pull/6555)
- [i#3544, i#1551, i#1569 signal: Remove a non-existing field in sigframe_rt_t](https://github.com/DynamoRIO/dynamorio/pull/6554)
- [i#3544 RV64: Enable reuse_distance test](https://github.com/DynamoRIO/dynamorio/pull/6540)
- [i#3544 RV64: Treat atomic instructions as load/store instructions](https://github.com/DynamoRIO/dynamorio/pull/6528)

## box64

xctan

  - [\[RV64_DYNAREC\] Fixed 66 87 XCHG opcode](https://github.com/ptitSeb/box64/pull/1198)
  - [\[RV64_DYNAREC\] Fixed 66 0F B6 MOVZX opcode](https://github.com/ptitSeb/box64/pull/1196)

ksco

  - [\[DYNAREC_RV64\] Enable basic simple wrapper optimization](https://github.com/ptitSeb/box64/pull/1215)
  - [\[DYNAREC_RV64\] Added more opcodes and fixed X87_PUSH/POP macros](https://github.com/ptitSeb/box64/pull/1194)
  - [\[DYNAREC_RV64\] Fixed a wrong Zba optimization](https://github.com/ptitSeb/box64/pull/1193)
  - [\[DYNAREC_RV64\] Added CALL/RET optimization](https://github.com/ptitSeb/box64/pull/1183)

## dynarmic

dynarmic 作为 AArch32 和 AArch64 的二进制翻译器被 Citra、yuzu 等模拟器使用，我们已经开始尝试为它增加 RISC-V backend，目前已提交的代码被合并到了上游的 [feature/rv64](https://github.com/merryhime/dynarmic/tree/feature/rv64) 分支中，待真正可用后会合并进主线。

- [backend/rv64: Initial implementation of terminals](https://github.com/merryhime/dynarmic/commit/5a8654d6efcbec7733b41779a2b6fa0e2a0142ba)
- [backend/rv64: Add StackLayout to stack](https://github.com/merryhime/dynarmic/commit/69864b7bab687a29eb470a3a584689ed0ea938cf)
- [backend/rv64: Implement UpdateAllUses](https://github.com/merryhime/dynarmic/commit/249cf18eedb170fcc9145fdd6b76efce689b7be5)
- [backend/rv64: Implement AssertNoMoreUses and some minor tweaks](https://github.com/merryhime/dynarmic/commit/66366ba10469d5cb3642326e47a8ceec52b94f4e)
- [backend/rv64: Use biscuit LI()](https://github.com/merryhime/dynarmic/commit/eab106e28210abfc6556d79c66cc405b64ac8665)
- [backend/rv64: Add minimal toy implementation enough to execute LSLS](https://github.com/merryhime/dynarmic/commit/7b6af427d1daf4b07d5996189a0932fb821863f5)
- [backend/rv64: Initial implementation of register allocator](https://github.com/merryhime/dynarmic/commit/4e7000a8b9bb71e1f15611ff779f638a1e2f06f2)
- [backend/rv64: Adjust how relocations are stored](https://github.com/merryhime/dynarmic/commit/2c182de503a85a1ae811f7e0b3ba6d4b4c8a9d17)
- [backend/rv64: Rework on pointer types](https://github.com/merryhime/dynarmic/commit/e8585fd8f59c51e12a90cafacea721c88f93d17a)
- [backend/rv64: Add a dummy code generation](https://github.com/merryhime/dynarmic/commit/1267ffb5e9bf5dbc45eb9907bc1296d3d0e672cd)
- [backend/rv64: Add biscuit as the assembler](https://github.com/merryhime/dynarmic/commit/7e47102a09bf3384c87c38d7e65ae5e5882acf8e)
- [backend/rv64: Add initial RISC-V framework](https://github.com/merryhime/dynarmic/commit/4fda3d331414a7c9f4477243bef91e754f430178)
- [github: Add basic RISC-V CI](https://github.com/merryhime/dynarmic/commit/17e0766152654be62ab282b78da5bd7159d1c4c0)

biscuit 是类似于 Xbyak 的运行时 RISC-V 汇编器，作为 dynarmic 的依赖用于代码生成。下面是 biscuit 的 PR：

- [assembler: Include  for std::exchange](https://github.com/lioncash/biscuit/pull/12)
- [assembler: Refine LI() and add LI64() to the assembler](https://github.com/lioncash/biscuit/pull/11)

## riscv-vector-tests

日常维护 RVV 测试集。

- [Add vxsat support](https://github.com/ksco/riscv-vector-tests/commit/4dc7375d8992fbe44dffc5a6bdff2361d9290808)
- [Fix a large imm issue for vlen 4096](https://github.com/ksco/riscv-vector-tests/commit/01c2ca1fcf1a3fa2e6631ba7bb6eec632ec583d1)
- [Add more cases for vl](https://github.com/ksco/riscv-vector-tests/commit/c3b739eeebda1d5c7be010ded5492b9f8dd1c5f8)

## SAIL/ACT

## openArkCompiler community

## MLIR

## CAAT

## coreboot for riscv

## openocd

## opensbi

## u-boot

## Aya Theorem Prover

## eBPF

## Benchmarking

## Arch Linux

(可以根据每个人的产出分开，按照人名增加三级缩进，也可以由 leader/mentor 汇总后统一PR)

## Gentoo

## Nixpkgs

## openEuler

(可以根据每个人的产出分开，按照人名增加三级缩进，也可以由 leader/mentor 汇总后统一PR)

## Fedora

(可以根据每个人的产出分开，按照人名增加三级缩进，也可以由 leader/mentor 汇总后统一PR)

## openKylin

## openAnolis

## RT-Thread

## 第3测试小队

## SG2042 Upstream

## Duo Upstream

## RVI Collaborations

### Jie Wu

## 参考链接

- [PLCT 实验室的开放职位（实习生）](https://github.com/plctlab/weloveinterns/blob/master/open-internships.md)
- [PLCT 开源进展 (PLCT Weekly)](https://github.com/plctlab/PLCT-Weekly)
- [PLCT 公开报告幻灯片（选集）](https://github.com/plctlab/PLCT-Open-Reports)
