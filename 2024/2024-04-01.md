# PLCT 开源进展·第 56 期·2024 年 4 月 1 日

## 卷首语


## 本期亮点

（请从 RuyiSDK、CNRV、openEuler 等公众号以及相关群聊中汇总素材）

## RuyiSDK IDE

## RuyiSDK 包管理器

## V8

## Spidermonkey

## OpenJDK Upstream

## OpenJDK RV32G

## OpenJDK8 Backporting

## DynamoRIO RV64GC

## OpenCV RISC-V 优化

## GNU Toolchain

(可以根据每个人的产出分开，按照人名增加三级缩进，也可以由 leader/mentor 汇总后统一PR)

### Jiawei Chen

### Shihua Liao

### Yixuan Chen

### Yulong Shi

## LLVM Monorepo
upstream被接收的patch:
- [CodeGenPrepare] Reverse the canonicalization of isInf/isNanOrInf https://github.com/llvm/llvm-project/pull/81572 修复canonicalization浮点类型判断后导致的后端regerssion
- [ValueTracking] Handle icmp pred (trunc X), C in computeKnownBitsFromCmp https://github.com/llvm/llvm-project/pull/82803 支持基于trunc X的上下文信息推导X的部分bits
- [InstCombine] Invalidate changes to DoesConsume if the first try fails https://github.com/llvm/llvm-project/pull/82973 修复https://github.com/llvm/llvm-project/issues/82877中InstCombine卡死的问题
- https://github.com/llvm/llvm-project/pull/83739 [InstCombine] Simplify nested selects with implied condition 如果外层select的cond可以推导出内层select的cond恒真/恒假的话，简化select
- https://github.com/llvm/llvm-project/pull/83993 [InstCombine] Fix miscompilation in PR83947 修复scatter(splat(value), splat(ptr), non-zero-mask) -> store value, ptr 中未考虑non-zero-masks为constexpr的情况导致的miscompilation 修复issue https://github.com/llvm/llvm-project/issues/83947 
- https://github.com/llvm/llvm-project/pull/84686 [InstCombine] Canonicalize `extractvalue + select` hoist extractvalue over select以暴露更多优化机会
- https://github.com/llvm/llvm-project/pull/85035 [InstCombine] Set zero_is_poison for ctlz/cttz if they are only used as shift amounts 如果ctlz/cttz只被shift使用，设置zero_is_poison以改进CodeGenPrepare的结果
- https://github.com/llvm/llvm-project/pull/85043 [InstCombine] Simplify `zext nneg i1 X` to zero
- https://github.com/llvm/llvm-project/pull/85193 [InstCombine] Support and/or in `getFreelyInvertedImpl` using DeMorgan's Law
- https://github.com/llvm/llvm-project/pull/85397 [ValueTracking] Handle `not` in `isImpliedCondition` 解决条件被multi-use时not无法消除的问题
- https://github.com/llvm/llvm-project/pull/85542 [InstCombine] Drop UB-implying attrs/metadata after speculating an instruction hoist intrinsic over select时忘记drop掉noundef metadata导致UB 修复miscompile https://github.com/llvm/llvm-project/issues/85536
- https://github.com/llvm/llvm-project/pull/85569 [InstCombine] Fold `fpto{s|u}i non-norm` to zero 
- https://github.com/llvm/llvm-project/pull/85772 [InstCombine] Fold `fmul X, -0.0` into `copysign(0.0, -X)`
- https://github.com/llvm/llvm-project/pull/85787 [InstCombine] Clear sign-bit of the constant magnitude in copysign 清除copysign constant magnitude的符号位，以简化立即数加载
- https://github.com/llvm/llvm-project/pull/86295 [LLVM] Remove nuw neg 由于nuw neg不常用且永为0，该patch删除相关接口以改善编译时间和缩减二进制体积
- https://github.com/llvm/llvm-project/pull/84628 [InstCombine] Remove the canonicalization of trunc to i1 [InstCombine] 移除 trunc to i1 的 canonicalization

### Chunyu Liao
- 尝试debug O3编译521的编译错误
- 更新https://github.com/llvm/llvm-project/pull/74318 

### Kiva

### Yongtai Li

## gollvm

## LIBCXX Experimental/simd

## LuaJIT RV64G Porting

## gem5

## Spike

## QEMU

## box64

## SAIL/ACT

## openArkCompiler community

## MLIR

## CAAT

## coreboot for riscv

## openocd

## opensbi

## u-boot

## Aya Theorem Prover

## eBPF

## Benchmarking

## Arch Linux

(可以根据每个人的产出分开，按照人名增加三级缩进，也可以由 leader/mentor 汇总后统一PR)

## Gentoo

## Nixpkgs

## openEuler

(可以根据每个人的产出分开，按照人名增加三级缩进，也可以由 leader/mentor 汇总后统一PR)

## Fedora

(可以根据每个人的产出分开，按照人名增加三级缩进，也可以由 leader/mentor 汇总后统一PR)

## openKylin

## openAnolis

## RT-Thread

## 第3测试小队

## SG2042 Upstream

## Duo Upstream

## RVI Collaborations

### Jie Wu

## 参考链接

- [PLCT 实验室的开放职位（实习生）](https://github.com/plctlab/weloveinterns/blob/master/open-internships.md)
- [PLCT 开源进展 (PLCT Weekly)](https://github.com/plctlab/PLCT-Weekly)
- [PLCT 公开报告幻灯片（选集）](https://github.com/plctlab/PLCT-Open-Reports)
