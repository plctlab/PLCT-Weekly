# PLCT 开源进展·第 61 期·2024 年 9 月 1 日

## 卷首语


## 本期亮点

（请从 RuyiSDK、CNRV、openEuler 等公众号以及相关群聊中汇总素材）

## RuyiSDK IDE

## RuyiSDK 包管理器

## V8

## Spidermonkey

## OpenJDK Upstream
1. Authored/Co-authored JDK-mainline PRs:
- https://github.com/openjdk/jdk/pull/20412 (8337396: Cleanup usage of ExternalAddess)
- https://github.com/openjdk/jdk/pull/20769 (8339248: RISC-V: Remove li64 macro assembler routine and related code)

2. Reviewed JDK-mainline PRs:
- https://github.com/openjdk/jdk/pull/19785 (8334505: RISC-V: Several tests fail when MaxVectorSize does not match VM_Version::_initial_vector_length)
- https://github.com/openjdk/jdk/pull/19830 (8334397: RISC-V: verify perf of ReverseBytesS/US)
- https://github.com/openjdk/jdk/pull/19825 (8334554: RISC-V: verify & fix perf of string comparison)
- https://github.com/openjdk/jdk/pull/19852 (8334843: RISC-V: Fix wraparound checking for r_array_index in lookup_secondary_supers_table_slow_path)
- https://github.com/openjdk/jdk/pull/19974 (8335411: RISC-V: Optimize encode_heap_oop when oop is not null)
- https://github.com/openjdk/jdk/pull/19960 (8334999: RISC-V: implement AES single block encryption/decryption intrinsics)
- https://github.com/openjdk/jdk/pull/20004 (8335615: Clean up left-overs from 8317721)
- https://github.com/openjdk/jdk/pull/20298 (8335191: RISC-V: verify perf of chacha20)
- https://github.com/openjdk/jdk/pull/20386 (8337421: RISC-V: client VM build failure after JDK-8335191)
- https://github.com/openjdk/jdk/pull/19973 (8314125: RISC-V: implement Base64 intrinsic - encoding)
- https://github.com/openjdk/jdk/pull/20417 (8337654: Relocate uncommon trap stub from SharedRuntime to OptoRuntime)
- https://github.com/openjdk/jdk/pull/20449 (8337780: RISC-V: C2: Change C calling convention for sp to NS)

3. Porting and debugging of virtual thread pinning issue on RISC-V
- Development repo: https://github.com/RealFYang/loom/tree/monitors-riscv-port
- Commits: https://github.com/openjdk/loom/compare/fibers...RealFYang:loom:monitors-riscv-port
- Testing: All virtual thread tests passed in interpreter and C1 & C2 JIT mode: make test TEST="hotspot_loom jdk_loom"
- TODO: Propose PR to merge RISC-V specific code changes into project loom repo

4. Prepare for the OpenJDK talk at the 4th RISC-V Summit China.

## OpenJDK RV32G

## DynamoRIO RV64GC

## OpenCV RISC-V 优化

## GNU Toolchain

### Jiawei Chen

### Shihua Liao

### Yixuan Chen

### Yulong Shi

## LLVM Monorepo

### Chunyu Liao

### Kiva

### Yongtai Li

### Junjie Zheng

### Tianyu Zhang

## gollvm

## LIBCXX Experimental/simd

## LuaJIT RV64G Porting

## gem5

## Spike

## QEMU

## box64

## SAIL/ACT

## MLIR

## CAAT

## coreboot for riscv

本期没有新的进展。

## openocd

本期没有新的进展。

## opensbi

- 修正dtbr中参数检测的bug。[1](http://lists.infradead.org/pipermail/opensbi/2024-August/007184.html)
- 修正fwft内存申请的一个bug。[1](http://lists.infradead.org/pipermail/opensbi/2024-August/007185.html)
- 检测pmp有没有使用的代码添加错误检测。[1](http://lists.infradead.org/pipermail/opensbi/2024-August/007186.html)
- 添加MPXY和RPMI支持。[1](http://lists.infradead.org/pipermail/opensbi/2024-August/007200.html)
- 移除sse\_inject\_out中未使用的参数。[1](http://lists.infradead.org/pipermail/opensbi/2024-August/007282.html)
- 堆改进，添加多个堆内存快支持，添加指定内存对齐方式的堆申请，经过几次更新合并。[1](http://lists.infradead.org/pipermail/opensbi/2024-August/007234.html)
- 移除csr检测时不必要的强制类型转换。[1](http://lists.infradead.org/pipermail/opensbi/2024-August/007246.html)
- tor类型的pmp支持被拒绝，给代码带来复杂性和兼任性问题。[1](http://lists.infradead.org/pipermail/opensbi/2024-August/007217.html)
- 添加SBI\_FWFT\_POINTER\_MASKING\_PMLEN的支持。[1](http://lists.infradead.org/pipermail/opensbi/2024-August/007244.html)
- 对32位下物理内存地址检测添加一些限制，当前只支持4G内存空间。[1](http://lists.infradead.org/pipermail/opensbi/2024-August/007245.html)
- 添加zicfilp和zicfiss支持。[1](http://lists.infradead.org/pipermail/opensbi/2024-August/007274.html)
- 编译连接选项添加移除未使用的代码和数据。[1](http://lists.infradead.org/pipermail/opensbi/2024-August/007301.html)
- 修复DT中没有提供"cold-boot-harts"时引起的挂起。[1]（http://lists.infradead.org/pipermail/opensbi/2024-August/007290.html）
- 改进domain从数组修改为链表。[1](http://lists.infradead.org/pipermail/opensbi/2024-August/007298.html) [2](http://lists.infradead.org/pipermail/opensbi/2024-August/007299.html)
- 修正设置time_delta字长的问题。[1](http://lists.infradead.org/pipermail/opensbi/2024-August/007300.html)
- 简化FDT头中大小端转换的代码。[1](http://lists.infradead.org/pipermail/opensbi/2024-August/007303.html)
- 在模拟读取时钟寄存器时，添加检测当前特权等级对应的寄存器是否可读。[1](http://lists.infradead.org/pipermail/opensbi/2024-August/007304.html)
- 优化hartindex，把hartindex保存在scratch中减少转换。[1](http://lists.infradead.org/pipermail/opensbi/2024-August/007307.html)
- 优化mhartid和mscratch的读取。[1](http://lists.infradead.org/pipermail/opensbi/2024-August/007322.html)
- 优化designware的gpio代码，修改静态数组为动态内存，在驱动未使用时可以节省内存。[1](http://lists.infradead.org/pipermail/opensbi/2024-August/007323.html)
- 修正aclint_mswi中错误把hartid当作hartindex使用的问题。[1](http://lists.infradead.org/pipermail/opensbi/2024-August/007324.html)

## u-boot

本期没有新的进展。

## Aya Theorem Prover

## eBPF

## Arch Linux

(可以根据每个人的产出分开，按照人名增加三级缩进，也可以由 leader/mentor 汇总后统一PR)

## Gentoo

## Nixpkgs

## Fedora

(可以根据每个人的产出分开，按照人名增加三级缩进，也可以由 leader/mentor 汇总后统一PR)


## RT-Thread

## 测试团队

## SG2042 Upstream

## Duo Upstream

## RVI Collaborations

## 参考链接

- [PLCT 实验室的开放职位（实习生）](https://github.com/plctlab/weloveinterns/blob/master/open-internships.md)
- [PLCT 开源进展 (PLCT Weekly)](https://github.com/plctlab/PLCT-Weekly)
- [PLCT 公开报告幻灯片（选集）](https://github.com/plctlab/PLCT-Open-Reports)
