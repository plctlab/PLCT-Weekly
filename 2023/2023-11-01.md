# PLCT 开源进展·第 51 期·2023 年 11 月 1 日

## 卷首语

（请体现 TARSIER 项目回归合入 PLCT Lab）

## 本期亮点

（请从 RuyiSDK、CNRV、openEuler 等公众号以及相关群聊中汇总素材）

## RuyiSDK IDE

## RuyiSDK 包管理器

## V8

## Spidermonkey

## OpenJDK Upstream

## OpenJDK RV32G

## OpenJDK8 Backporting

## DynamoRIO RV64GC

## OpenCV RISC-V 优化

## GNU Toolchain

(可以根据每个人的产出分开，按照人名增加三级缩进，也可以由 leader/mentor 汇总后统一PR)

### Jiawei Chen

### Shihua Liao

### Yixuan Chen

### Yulong Shi

## LLVM Monorepo

### Chunyu Liao

### Kiva

### Yongtai Li

### Junjie Zheng

### Tianyu Zhang

## gollvm

## LIBCXX Experimental/simd

## LuaJIT RV64G Porting

## gem5

## Spike

## QEMU

## box64

## SAIL/ACT

## openArkCompiler community

## MLIR

## CAAT

## coreboot for riscv

本期没有新的进展。

## openocd

- 移除添加2字节长度软件断点时检测C扩展，有些misa.c为零的机器可以支持部分c指令和c.ebreak指令。[1](https://github.com/riscv/riscv-openocd/commit/912de786a490555b5ac53d1d092e0536d0932bc1)

## opensbi

- 修正startfive gpio驱动，移除一次多余的寄存器读取。[1](https://lists.infradead.org/pipermail/opensbi/2023-September/005641.html)
- 对sbi\_pmu\_ctr\_cfg\_match添加索引检查防止溢出。[1](https://lists.infradead.org/pipermail/opensbi/2023-September/005640.html)
- 修正sbi\_misaligned\_ldst，在处理C.SWSP/C.SDSP时对目标寄存器的检查。因为指令编码不存在目标寄存器，也不能在写零寄存器时跳过。[1](https://lists.infradead.org/pipermail/opensbi/2023-October/005643.html)
- 简化sanitize\_domain移除一个未用的参数。[1](https://lists.infradead.org/pipermail/opensbi/2023-October/005669.html)
- 添加sg2042支持。[1](https://lists.infradead.org/pipermail/opensbi/2023-October/005687.html)
- 之前提交的修正hartindex\_to\_hartid\_table/sbi\_hartindex\_to\_scratch/sbi\_scratch\_last\_hartindex为函数的补丁没有通过，Anup觉得没有必要隐藏这几个全局变量。修正hartindex\_to\_hartid\_table宏并移除一个数组。[1](https://lists.infradead.org/pipermail/opensbi/2023-October/005703.html)
- 更新sbi spec版本号。[1](https://lists.infradead.org/pipermail/opensbi/2023-October/005710.html)
- tlb队列长度从宏修改为核心数。[1](https://lists.infradead.org/pipermail/opensbi/2023-October/005714.html)
- 修正解析aclint时第一个reg不能为零的问题(没有mtime的机器这个字段为0)。[1](https://lists.infradead.org/pipermail/opensbi/2023-October/005711.html)
- 添加thead c900 aclint支持。[1](https://lists.infradead.org/pipermail/opensbi/2023-October/005721.html)
- 移除fdt\_reset\_thead，通过zero stage boot替代。[1](https://lists.infradead.org/pipermail/opensbi/2023-October/005720.html)
- 修正tlb刷新时的问题，之前的代码在start和size都为0时会忽略asid/vmid。[1](https://lists.infradead.org/pipermail/opensbi/2023-October/005742.html)
- 修正一个fence rw,rw和存储指令的次序问题，并使用div替代nop增加延时。[1](https://lists.infradead.org/pipermail/opensbi/2023-October/005745.html)
- opensbi的console设备有两个输出接口console\_putc/console\_puts，之前的sbi_putc强依赖console_putc，导致console设备必须实现console_putc。修正这个问题，让sbi_putc可以调用console_puts。[1](https://lists.infradead.org/pipermail/opensbi/2023-October/005774.html)
- 半主机仿真的console实现了console\_putc/console\_puts，但console\_putc只能调用SYSWRITEC不能调用SYSWRITE，而有些调试器可能会不实现SYSWRITEC。所以移除了半主机仿真的console_putc。[1](https://lists.infradead.org/pipermail/opensbi/2023-October/005773.html)
- 更新硬件随机数Zkr支持，添加通过fdt检测扩展是否可用。但初始化放在sbi\_hart\_pmp\_configure不是很合适。[1](https://lists.infradead.org/pipermail/opensbi/2023-October/005780.html)
- 修正change sbi\_hart\_features.extensions为数组，因为未来可能会有很多ISA扩展，一个long可能不够用。[1](https://lists.infradead.org/pipermail/opensbi/2023-October/005787.html)

## u-boot

本期没有新的进展。

## Aya Theorem Prover

## eBPF

## Benchmarking

## Arch Linux

(可以根据每个人的产出分开，按照人名增加三级缩进，也可以由 leader/mentor 汇总后统一PR)

## Gentoo

## Nixpkgs

## openEuler

(可以根据每个人的产出分开，按照人名增加三级缩进，也可以由 leader/mentor 汇总后统一PR)

## Fedora

(可以根据每个人的产出分开，按照人名增加三级缩进，也可以由 leader/mentor 汇总后统一PR)

## openKylin

## openAnolis

## RT-Thread

## 第3测试小队

## 图形栈学习小组

## 内核学习小组

## SG2042 Upstream

## Duo Upstream

## RVI

### Jie Wu

## 参考链接

- [PLCT 实验室的开放职位（实习生）](https://github.com/plctlab/weloveinterns/blob/master/open-internships.md)
- [PLCT 开源进展 (PLCT Weekly)](https://github.com/plctlab/PLCT-Weekly)
- [PLCT 公开报告幻灯片（选集）](https://github.com/plctlab/PLCT-Open-Reports)
