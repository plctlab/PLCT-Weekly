# PLCT 开源进展·第 52 期·2023 年 12 月 1 日

## 卷首语

（请体现 TARSIER 项目回归合入 PLCT Lab）

## 本期亮点

（请从 RuyiSDK、CNRV、openEuler 等公众号以及相关群聊中汇总素材）

## RuyiSDK IDE

## RuyiSDK 包管理器

## V8

## Spidermonkey

## OpenJDK Upstream

## OpenJDK RV32G

## OpenJDK8 Backporting

## DynamoRIO RV64GC

## OpenCV RISC-V 优化

## GNU Toolchain

(可以根据每个人的产出分开，按照人名增加三级缩进，也可以由 leader/mentor 汇总后统一PR)

### Jiawei Chen

### Shihua Liao

### Yixuan Chen

### Yulong Shi

## LLVM Monorepo

### Chunyu Liao

### Kiva

### Yongtai Li

### Junjie Zheng

### Tianyu Zhang

## gollvm

## LIBCXX Experimental/simd

## LuaJIT RV64G Porting

## gem5

## Spike

## QEMU

## box64

## SAIL/ACT

## openArkCompiler community

## MLIR

## CAAT

## coreboot for riscv

## openocd

## opensbi

## u-boot

## Aya Theorem Prover

## eBPF

## Benchmarking

## Arch Linux

(可以根据每个人的产出分开，按照人名增加三级缩进，也可以由 leader/mentor 汇总后统一PR)

## Gentoo

## Nixpkgs

## openEuler

(可以根据每个人的产出分开，按照人名增加三级缩进，也可以由 leader/mentor 汇总后统一PR)

## Fedora

(可以根据每个人的产出分开，按照人名增加三级缩进，也可以由 leader/mentor 汇总后统一PR)

## openKylin

## openAnolis

## RT-Thread

## 第3测试小队

### 1. 测试策略

- [RuyiSDK v0.2版本测试策略和测试方法](https://gitee.com/yunxiangluo/monthly/blob/master/202311/RuyiSDK%20v0.2%E7%89%88%E6%9C%AC%E6%B5%8B%E8%AF%95%E7%AD%96%E7%95%A5%E5%92%8C%E6%B5%8B%E8%AF%95%E6%96%B9%E6%B3%95.pptx)

### 2. 测试

#### 2.1 RuyiSDK测试开发和测试

- [RUYI 包管理 20231030 版本测试结果](https://gitee.com/yunxiangluo/ruyi-sdk-v0.2-test/blob/master/pre_round1/RUYI%20%E5%8C%85%E7%AE%A1%E7%90%86%2020231030%20%E7%89%88%E6%9C%AC%E6%B5%8B%E8%AF%95%E7%BB%93%E6%9E%9C.md)

- [RUYI 包管理 20231107 版本测试结果](https://gitee.com/yunxiangluo/ruyi-sdk-v0.2-test/blob/master/pre_round2/RUYI%20%E5%8C%85%E7%AE%A1%E7%90%86%2020231107%20%E7%89%88%E6%9C%AC%E6%B5%8B%E8%AF%95%E7%BB%93%E6%9E%9C.md)

- [RUYI 包管理 20231126 版本测试结果](https://gitee.com/yunxiangluo/ruyi-sdk-v0.2-test/blob/master/pre_round3/RUYI%20%E5%8C%85%E7%AE%A1%E7%90%86%2020231126%20%E7%89%88%E6%9C%AC%E6%B5%8B%E8%AF%95%E7%BB%93%E6%9E%9C.md)

- 构建ruyiSDK文档 [ruyidocs](https://github.com/ruyisdk/doc4test/tree/main/docs)

- 编写 mugen 用例并发布在 [mugen-ruyi](https://gitee.com/weilinfox/mugen-ruyi) 仓库，现有测试用例 6 个，覆盖 RUYI 20231126 版本

- 搭建 [Jenkins CI](https://jenkins.inuyasha.love/) ，接入并测试 Fedora 38 、 Ubuntu Jammy 、 openEuler 2203 、 openEuler2303 、 openEuler2309 QEMU 测试环境可用，接入并测试 RevyOS 实机测试环境可用， Debian bookworm 构建环境可用

- 建立 RUYI 包管理多版本 mugen 测试 [Jenkins CI 工程](https://jenkins.inuyasha.love/job/ruyi-test/)，编写 Jenkins 流水线并接入 [mugen-ruyi Gitee 仓库](https://gitee.com/weilinfox/mugen-ruyi)，仓库脚本更新时自动触发测试，测试完成后自动备份测试日志

- 建立 ruyi 包管理构建 [Jenkins CI 工程](https://jenkins.inuyasha.love/job/ruyi-auto-build/) ，在 Debian bookworm 构建二进制

- RUYI 包管理在多版本测试时发现无法在 oE 2203 LTS 的低版本 glibc 下运行，经过沟通将 openEuler 2203 和 openEuler2303 移出测试范围

- 维护 RUYI 包管理的使用文档并提交为 [README.md](https://github.com/ruyisdk/doc4test/blob/main/README.md)

- 提出了 doc4test 仓库的文档构建方式 [询问文档构建使用的工具](https://github.com/ruyisdk/doc4test/issues/1) ，答复是这个仓库只作为内部交流用，不做限制

- 根据测试结果提出 issue
  
  | issue 链接                                         | issue 标题                                                                          |
  |:------------------------------------------------:|:--------------------------------------------------------------------------------- |
  | [#4](https://github.com/ruyisdk/ruyi/issues/4)   | 【补充 20231030 版本 issue】 ruyi install 依赖 wget 但是该软件包在 oE 2309 未预装， ruyi 本身则没有发现安装失败 |
  | [#5](https://github.com/ruyisdk/ruyi/issues/5)   | 【补充 20231107 版本 issue】 ruyi 在 openEuler 2203 无法运行                                 |
  | [#6](https://github.com/ruyisdk/ruyi/issues/6)   | 主线版本 list 命令无法使用                                                                  |
  | [#7](https://github.com/ruyisdk/ruyi/issues/7)   | 构建CI                                                                              |
  | [#8](https://github.com/ruyisdk/ruyi/issues/8)   | 添加 CI                                                                             |
  | [#9](https://github.com/ruyisdk/ruyi/issues/9)   | Jenkins CI 使用 scripts 目录下的脚本构建 riscv64 二进制失败                                      |
  | [#11](https://github.com/ruyisdk/ruyi/issues/9)  | ruyi update 在未预装 git 的系统上无法运行                                                     |
  | [#13](https://github.com/ruyisdk/ruyi/issues/13) | ruyi admin 命令使用方法及测试通过标准                                                          |
  | [#14](https://github.com/ruyisdk/ruyi/issues/14) | XDG_CACHE_HOME 环境变量非空的情形下 progcache 不随该变量变化                                       |
  | [#15](https://github.com/ruyisdk/ruyi/issues/15) | ruyi list 不过滤本机架构不支持的软件包                                                          |
  | [#16](https://github.com/ruyisdk/ruyi/issues/16) | 优化 ruyi venv 在硬盘空间不足时的输出                                                          |

#### 2.2 openEuler 23.09 独立发版测试

- [QEMU测试报告](https://gitee.com/yunxiangluo/openEuler-RISC-V-23.09-independent/blob/master/QEMU/README.md)

- [QEMU安装文档](https://gitee.com/yunxiangluo/openEuler-RISC-V-23.09-independent/blob/master/QEMU/Installation_Handbook)

- [Unmatched安装文档](https://gitee.com/yunxiangluo/openEuler-RISC-V-23.09-independent/blob/master/Unmatched/Installation_Handbook.md)

- [VisionFive2测试报告](https://gitee.com/yunxiangluo/openEuler-RISC-V-23.09-independent/tree/master/VF2/succeeded_case)

- [VisionFive2安装文档](https://gitee.com/yunxiangluo/openEuler-RISC-V-23.09-independent/blob/master/VisionFive2/Installation_Handbook.md)

- [VisionFive测试报告](https://gitee.com/yunxiangluo/openEuler-RISC-V-23.09-independent/tree/master/VisionFive/succeeded_case)

- [VisionFive安装文档](https://gitee.com/yunxiangluo/openEuler-RISC-V-23.09-independent/blob/master/VisionFive/Installation_Handbook.md)

- [LicheePi 4A测试报告](https://gitee.com/yunxiangluo/openEuler-RISC-V-23.09-independent/tree/master/lpi4a/succeeded_case)

- [LicheePi 4A安装文档](https://gitee.com/yunxiangluo/openEuler-RISC-V-23.09-independent/blob/master/lpi4a/Install.md)

结论openEuler 23.09 独立发版镜像可以在QEMU、Milkv pioneer box、LicheePi 4A、Unmatched、VisionFive、VisionFive2下成功启动，系统基本功能正常。D1下咱不能使用。

详细测试结果：

- [oefor2309test_1](https://gitlab.inuyasha.love/weilinfox/plct-working/-/blob/master/Done/Month05/Week4/mugen/oefor2309test_1) 部分在 openEuler 2303 和 2309 x86_64 上的测试，得到[日志](https://gitlab.inuyasha.love/weilinfox/plct-working/-/tree/master/Done/Month05/Week4/mugen)

- [oefor2309test_baseos](https://gitlab.inuyasha.love/weilinfox/plct-working/-/blob/master/Done/Month05/Week5/oefor2309test_baseos) 和 [oefor2309test_nobaseos](https://gitlab.inuyasha.love/weilinfox/plct-working/-/blob/master/Done/Month05/Week5/oefor2309test_nobaseos) 在 oErv 2309 

| ID/Link                                                    | 缺陷名称                                                                    | 状态            |
| ---------------------------------------------------------- | ----------------------------------------------------------------------- | ------------- |
| [I8J7XE](https://gitee.com/openeuler/RISC-V/issues/I8J7XE) | openEuler 23.09 RISC-V Lichee Pi 4A testing 镜像默认未安装 NetworkManager-wifi | Closed, fixed |
| [I8IFPN](https://gitee.com/openeuler/RISC-V/issues/I8IFPN) | Lichee Pi 4A 在 Docker 内运行 Java 17/19 时崩溃                                | Open          |

#### 2.3 openEuler 23.09 和 24.03 测试准备

- 独立发版 20231128 v0.2 版本上的测试，产出日志、报告和安装文档 pr [!2](https://gitee.com/yunxiangluo/openEuler-RISC-V-23.09-independent/pulls/2) [!5](https://gitee.com/yunxiangluo/openEuler-RISC-V-23.09-independent/pulls/5)，用于验证mugen x86下所有测试套和测试用例在RISC-V版本下的可用性。

- 根据上周openEuler RISC-V 23.09 baseOS RC8测试分析结果，编写了测试文档[PR](https://gitee.com/yunxiangluo/open-euler-risc-v-23.09-test/pulls/105)

- 对OpenEuler 2303 RISCV进行了[test1](https://github.com/Pagerd/PLCT/blob/main/Report/Nov/week21/oefor2309test_2)范围的测试，得到部分测试结果并与之前进行的测试结果进行了简单的比对[Result](https://github.com/Pagerd/PLCT/blob/main/Report/Nov/week21/2303ResultReport.md)

#### 2.4 RuyiSDK相关工具测试

- 测试 Node.js，产出 [测试报告](https://github.com/KevinMX/PLCT-Tarsier-Works/tree/main/misc/month7/node/report_oe2309)

#### 2.5 AO空间辅助测试

- 测试 OpenJDK on openEuler RISC-V on Docker。- Issue [I8IFPN](https://gitee.com/openeuler/RISC-V/issues/I8IFPN)

### 3. 测试工具开发

#### 1.3.1 mugen

- 分配任务为未来24.03合入的mugen测试做相关准备，[commit](https://github.com/KotorinMinami/plct-working/commit/d3a0b674cc0a5eaba38ea92c14d2ce58bd135aef)

- 为未来24.03合入做mugen测试，以同步目前mugen测试例可用情况，[commit](https://github.com/KotorinMinami/plct-working/commit/2c3baef729ee318e23288f0a226c693f9b64e05f)

- 建立 x86 mugen 多版本测试 [Jenkins CI 工程](https://jenkins.inuyasha.love/job/mugen-case-x86/)，验证了 mugen 测试用例并没有随着软件包更新而积极维护的问题，为向上游提交 issue 收集必要的日志

- 在软件所 x86 服务器建立预计用于 mugen 自动化测试的 lxc 容器并接入 [Jenkins CI](https://jenkins.inuyasha.love/computer/archlinux%2Dmugen%2Dlxc0/) ，调研 libvirtd 使用的 dnsmasq 网桥是否符合 firewalld/oe_test_firewalld_dnat 特殊用例的测试需求

- 向 libvirt 上游咨询关于 libvirt 在 lxc 非特权容器内嵌套虚拟化非预期行为的解决方式 [issue 556](https://gitlab.com/libvirt/libvirt/-/issues/556) ，已经验证并解决该问题

- 2309 独立发版测试需要重测验证的用例数高达 1674 个，手动重测已经不可能，尝试编写新的测试工具 [mugen-libvirt](https://gitee.com/weilinfox/mugen-libvirt)

- 向 openeuler/mugen 上游提交 issue

| 编号                                                        | 标题                                                                                                        |
|:---------------------------------------------------------:|:--------------------------------------------------------------------------------------------------------- |
| [I8FN7E](https://gitee.com/openeuler/mugen/issues/I8FN7E) | openssl 测试套一些用例无法在 openEuler 2309 x86_64 QEMU 测试通过                                                        |
| [I8FNJD](https://gitee.com/openeuler/mugen/issues/I8FNJD) | os-basic 测试套 oe_test_dmraid 用例无法在 openEuler 2203 2309 x86_64 QEMU 测试通过                                    |
| [I8FNJQ](https://gitee.com/openeuler/mugen/issues/I8FNJQ) | mc 测试套 oe_test_mc_base_01 用例无法在 openEuler 2203 2309 x86_64 QEMU 测试通过                                      |
| [I8FOEN](https://gitee.com/openeuler/mugen/issues/I8FOEN) | os-basic 测试套 oe_test_gcc_01 用例无法在 openEuler 2309 x86_64 QEMU 测试通过                                         |
| [I8FOHC](https://gitee.com/openeuler/mugen/issues/I8FOHC) | gsl 测试套 oe_test_gsl_histogram_01 用例无法在 openEuler 2309 x86_64 QEMU 测试通过                                    |
| [I8FTGN](https://gitee.com/openeuler/mugen/issues/I8FTGN) | iptables 测试套 oe_test_ip6tables-restore_01, oe_test_iptables-restore 用例无法在 openEuler 2309 x86_64 QEMU 测试通过 |
| [I8FTHB](https://gitee.com/openeuler/mugen/issues/I8FTHB) | iptables 测试套 oe_test_ip6tables-save 无法在 openEuler 2203 2309 x86_64 QEMU 测试通过                              |
| [I8FTRV](https://gitee.com/openeuler/mugen/issues/I8FTRV) | os-basic 测试套一些测试用例依赖特定的软件包但是没有使用 DNF_INSTALL 显式安装                                                         |
| [I8FTGC](https://gitee.com/openeuler/mugen/issues/I8FTGC) | clang 测试套 oe_test_clang_02 用例无法在 openEuler 2309 x86_64 QEMU 测试通过                                          |
| [I8FOQE](https://gitee.com/openeuler/mugen/issues/I8FOQE) | kernel 测试套 oe_test_io_sched 用例硬编码 /sys/block/sda 导致测试不适配 QEMU 环境                                          |
| [I8FOKL](https://gitee.com/openeuler/mugen/issues/I8FOKL) | rsyslog 测试套一些用例需要 NODE2 但 rsyslog.json 中缺少相关声明                                                            |
| [I8FOOC](https://gitee.com/openeuler/mugen/issues/I8FOOC) | lvm2 测试套 oe_test_lvm2_pvdisplay_001 用例需要额外的磁盘参与测试但 lvm2.json 中缺少相关声明                                      |
| [I89X70](https://gitee.com/openeuler/mugen/issues/I89X70) | initscripts 测试套 oe_test_service_network 用例缺陷修复                                                            |
| [I8FNQN](https://gitee.com/openeuler/mugen/issues/I8FNQN) | kernel 测试套 oe_test_swap_compress 用例无法在 openEuler 2203 2309 x86_64 QEMU 测试通过                               |
| [I8FO45](https://gitee.com/openeuler/mugen/issues/I8FO45) | mugen 在 openEuler 2309 从 systemctl disable 获取的 .service 文件名不正确                                            |
| [I8FO8B](https://gitee.com/openeuler/mugen/issues/I8FO8B) | libosinfo 测试套 oe_test_osinfo-db-import 用例无法在 openEuler 2203 2309 x86_64 QEMU 测试通过                         |
| [I8FOO8](https://gitee.com/openeuler/mugen/issues/I8FOO8) | mugen get_test_disk 函数将 /dev/sr0 光驱设备作为可用的测试磁盘返回                                                          |
| [I8FTKZ](https://gitee.com/openeuler/mugen/issues/I8FTKZ) | os-basic 测试套 oe_test_system_log_recorded 用例脚本缺陷                                                           |
| [I8FNYC](https://gitee.com/openeuler/mugen/issues/I8FNYC) | kmod 测试套 oe_test_insmod-lsmod 用例无法在 openEuler 2203 2309 x86_64 QEMU 测试通过                                  |
| [I8FPEI](https://gitee.com/openeuler/mugen/issues/I8FPEI) | os-basic 测试套 oe_test_uname, oe_test_awk, oe_test_system_log_dmesg 用例在 openEuler 2309 RISC-V 测试失败          |
| [I8H7M3](https://gitee.com/openeuler/mugen/issues/I8H7M3) | 一些测试用例依赖未显式安装且未预装的软件包进行测试                                                                                 |
| [I8H8D0](https://gitee.com/openeuler/mugen/issues/I8H8D0) | ipmitool  测试套 oe_test_service_ipmievd 用例无法在 openEuler 2203 2309 x86_64 QEMU 测试通过                          |
| [I8H8P1](https://gitee.com/openeuler/QA/issues/I8H8P1)    | 在 openEuler 2309 RISC-V 的 mugen 测试中发现的测试用例本身问题请求用例修复                                                      |

#### 1.3.2 openQA (for RuyiSDK)

- 补充 ruyiSDK openQA 测试代码 [commit](https://gitee.com/yan-mingzhu/os-autoinst-distri-openeuler/commit/dcfed1aefe69646297e1aa76cdca96ffd8f1ac34)，完成 ruyiSDK 在虚拟机环境下的测试

- 为 ruyi 添加 CI，从源代码 和 release 分别进行自动化测试 [PR](https://github.com/ruyisdk/ruyi/pull/8) [测试结果](https://github.com/trdthg/ruyi/actions/runs/6995331160/job/19030050992)

- 测试 openQA 真机。目前可以通过 vnc 连接到其他已启动的 X86 linux 真机 [截图](https://github.com/trdthg/plct/blob/main/outcome/202311_week2/shortcut.png), [日志](https://github.com/trdthg/plct/blob/main/outcome/202311_week2/autoinst-log.txt), 但是连接并不稳定，搭建 fedora, openeuler x86 虚拟机环境，安装 vnc, 运行 openQA 真机测试，[截图](https://github.com/trdthg/plct/blob/main/outcome/202311_week3/vnc-nixos.png)，未成功获取画面

#### 1.3.3 基础测试脚本

- 修正 [自动化测试脚本](https://github.com/KevinMX/PLCT-Tarsier-Works/tree/main/misc/month6/scripts)。

#### 1.3.4 Sail

- 调研sail-riscv仓库，并成功与本地编译出sail-riscv模拟器，产出调研[报告](https://github.com/KotorinMinami/plct-working/blob/main/sail-riscv/README.md)

- 翻译官方 sail 手册 [menual](https://github.com/trdthg/plct/blob/main/doc/sail/lang.md)

- 调研RISCOF测试框架，在本地搭建并了解其基本原理后准备技术分享[ppt](https://github.com/KotorinMinami/plct-working/blob/main/sail-riscv/%E5%9F%BA%E4%BA%8ERISCOF%E8%B0%88%E8%B0%88SAIL%E5%AF%B9ISA%E6%B5%8B%E8%AF%95%E7%9A%84%E4%BD%9C%E7%94%A8.pptx)

- 根据技术分享会议以及反馈，学习RISCV ISA与SAIL的对应关系，产出对应[报告](https://github.com/KotorinMinami/plct-working/blob/main/sail-riscv/note01.md)

- 在 docker 环境下编译运行 riscv-sails  [运行结果](./202311_week2/sail_logs/make.log) [操作记录](https://github.com/trdthg/plct/blob/main/outcome/202311_week2/sail_logs/bash_history)

#### 1.3.5 QtRvSim

- [QtRvSim 使用手册和测试报告](https://gitee.com/yunxiangluo/qtrvsim-test/blob/master/README.md)

- QtRvSim developer 部分文档翻译并验证 CI 构建部分，提交 pr [!4](https://gitee.com/yunxiangluo/qtrvsim-test/pulls/4) [!5](https://gitee.com/yunxiangluo/qtrvsim-test/pulls/5) [!6](https://gitee.com/yunxiangluo/qtrvsim-test/pulls/6)

- QtRVSim quickstart [PR](https://gitee.com/yunxiangluo/qtrvsim-test/pulls/3)

- QtRvSim 命令行界面使用说明文档，提交 pr [!8](https://gitee.com/yunxiangluo/qtrvsim-test/pulls/8)

- QtRVSim GUI [PR](https://gitee.com/yunxiangluo/qtrvsim-test/pulls/9)

- 调研学习qtrvsim框架，经本地编译调试理解其大致模拟器框架，为后续开发铺平道路，产出对应[报告](https://github.com/KotorinMinami/plct-working/blob/main/qtrvsim/note1.md)

- 协助调查 qtrvsim 编译失败 ubuntu 缺少 QT 库原因 [截图](https://github.com/trdthg/plct/blob/main/outcome/202311_week4/compile_success.jpg)

### 4. 测试技术分享

- 技术分享《RuyiSDK测试策略和测试方法》的 mugen 部分。[提纲与 ppt](https://gitlab.inuyasha.love/weilinfox/plct-working/-/tree/master/Note/mugen-ruyi)

- 技术分享《QtRVSim：小白也能上手的 RISC-V 模拟器》GUI，命令行部分《QtRvSim 命令行界面简单使用》。[ppt](https://gitlab.inuyasha.love/weilinfox/plct-working/-/tree/master/Note/qtrvsim_cli-tech)

- 技术分享[关于开放式RISC-V软件资源管理的探索与实践](https://github.com/ArielHeleneto/anrsm)

- 技术分享 [SAIL 语言简介及 ADDI 指令实现](./202311_week4/SAIL%20语言简介及%20ADDI%20指令实现.pptx)

- SIG-QA 会议 & openEuler 社区优秀贡献者评选，测试小队成员郑景坤当选 [etherpad](https://etherpad.openeuler.org/p/sig-QA-meetings)

- LTP 下一代测试执行器 Kirk（先前为 runltp-ng） - [Kirk](https://github.com/KevinMX/PLCT-Tarsier-Works/tree/main/reports/month7/oERV专项测试拾遗：次世代LTP执行器Kirk)

### 5. 测试小队成员

#### 5.1 郑景坤

- 修正 [自动化测试脚本](https://github.com/KevinMX/PLCT-Tarsier-Works/tree/main/misc/month6/scripts)。

- 协助 openEuler 23.09 RISC-V 独立发行版镜像测试（烧写镜像检查是否能够正常启动）。

- 编写 Node.js [测试报告](https://github.com/KevinMX/PLCT-Tarsier-Works/tree/main/misc/month7/node/report_oe2309)。

- 参加 SIG-QA 会议 & openEuler 社区优秀贡献者评选。- [etherpad](https://etherpad.openeuler.org/p/sig-QA-meetings)

- 测试 OpenJDK on openEuler RISC-V on Docker。- Issue [I8IFPN](https://gitee.com/openeuler/RISC-V/issues/I8IFPN)

- 调研 LTP 下一代测试执行器 Kirk（先前为 runltp-ng） - [Kirk](https://github.com/KevinMX/PLCT-Tarsier-Works/tree/main/reports/month7/oERV专项测试拾遗：次世代LTP执行器Kirk)

- 调研 RISC-V SAIL / ACT。

- 准备 RuyiSDK 测试。
  
  - `ruyi update` 在未预装 git 的系统上无法运行（已修复）

- QtRVSim 测试工作：
  
  - quickstart [PR](https://gitee.com/yunxiangluo/qtrvsim-test/pulls/3)
  - GUI [PR](https://gitee.com/yunxiangluo/qtrvsim-test/pulls/9)

- 技术分享：QtRVSim GUI
  openEuler 23.09 独立发版测试

- Firefox & nmtui [测试用例](https://gitee.com/yunxiangluo/openEuler-RISC-V-23.09-independent/pulls/3)

- HiFive Unmatched
  
  - [安装文档](https://gitee.com/KevinMX/openEuler-RISC-V-23.09-independent/blob/master/Unmatched/Installation_Handbook.md)

- VisionFive
  
  - [安装文档](https://gitee.com/KevinMX/openEuler-RISC-V-23.09-independent/blob/master/VisionFive/Installation_Handbook.md)

- VisionFive 2
  
  - [安装文档](https://gitee.com/KevinMX/openEuler-RISC-V-23.09-independent/blob/master/VisionFive2/Installation_Handbook.md)
  - 协助测试 VisionFive 2 无法启动的问题（已解决）
  - 协助排查 VisionFive 2 启动 Firefox 时死机重启的问题（经排查为 SoC 未加散热片过热导致）

- Lichee Pi 4A
  
  - [安装文档更新](https://gitee.com/KevinMX/openEuler-RISC-V-23.09-independent/blob/master/lpi4a/Install.md)
  - 测试新的镜像刷写流程：`fastboot flash ram -> reboot -> flash uboot -> flash boot -> flash root -> power reset`
  - 连接 WiFi 需要先连接有线网络并安装 `NetworkManager-wifi`（已解决）
  - 安装 Xfce 目前需要手动添加 `tarsier-infra` 软件源（已解决：默认已提供 Xfce 镜像，preview 版无此问题）

- D1 Nezha & LicheeRV 测试启动镜像
  
  - 目前状况：bootloop

- 协助测试 Firefox 115 ESR
  
  - 软件包依赖错误：`redhat-indexhtml` -> `openEuler-indexhtml` （已修复）
  - 软件包文件冲突：`libnss3.so` 同时被 `nss-3.94-1` 和 `firefox-115.5.0-1` 提供（已修复）
  - 切换标签页后网页会卡在转圈圈（加载）（已修复）
  - `ffmpeg` 禁用时 `H264` 软解不工作（已修复）
  - `ffmpeg` 启用时 `H264` 软解只能播放一段时间，然后视频卡死（已修复）
  - 硬件编解码目前不工作
  - 经测试目前可在 QEMU / LPi4A / VisionFive / VisionFive 2 启动

- 缺陷报告 / Issues

| ID/Link                                                    | 缺陷名称                                                                    | 状态            |
| ---------------------------------------------------------- | ----------------------------------------------------------------------- | ------------- |
| [I8J7XE](https://gitee.com/openeuler/RISC-V/issues/I8J7XE) | openEuler 23.09 RISC-V Lichee Pi 4A testing 镜像默认未安装 NetworkManager-wifi | Closed, fixed |
| [I8IFPN](https://gitee.com/openeuler/RISC-V/issues/I8IFPN) | 23.03 Lichee Pi 4A 在 Docker 内运行 Java 17/19 时崩溃                          | Open          |
| [#11](https://github.com/ruyisdk/ruyi/issues/11)           | ruyi update 在未预装 git 的系统上无法运行                                           | Closed, fixed |

#### 5.2 蔡玮霖

##### 5.2.1 mugen 测试工作

+ 完成 [oefor2309test_1](https://gitlab.inuyasha.love/weilinfox/plct-working/-/blob/master/Done/Month05/Week4/mugen/oefor2309test_1) 部分在 openEuler 2303 和 2309 x86_64 上的测试，得到[日志](https://gitlab.inuyasha.love/weilinfox/plct-working/-/tree/master/Done/Month05/Week4/mugen)
+ 完成 [oefor2309test_baseos](https://gitlab.inuyasha.love/weilinfox/plct-working/-/blob/master/Done/Month05/Week5/oefor2309test_baseos) 和 [oefor2309test_nobaseos](https://gitlab.inuyasha.love/weilinfox/plct-working/-/blob/master/Done/Month05/Week5/oefor2309test_nobaseos) 在 oErv 2309 独立发版 20231128 v0.2 版本上的测试，产出日志、报告和安装文档 pr [!2](https://gitee.com/yunxiangluo/openEuler-RISC-V-23.09-independent/pulls/2) [!5](https://gitee.com/yunxiangluo/openEuler-RISC-V-23.09-independent/pulls/5)

##### 5.2.2 mugen 测试工具

+ 建立 x86 mugen 多版本测试 [Jenkins CI 工程](https://jenkins.inuyasha.love/job/mugen-case-x86/)，验证了 mugen 测试用例并没有随着软件包更新而积极维护的问题，为向上游提交 issue 收集必要的日志
+ 在软件所 x86 服务器建立预计用于 mugen 自动化测试的 lxc 容器并接入 [Jenkins CI](https://jenkins.inuyasha.love/computer/archlinux%2Dmugen%2Dlxc0/) ，调研 libvirtd 使用的 dnsmasq 网桥是否符合 firewalld/oe_test_firewalld_dnat 特殊用例的测试需求
+ 向 libvirt 上游咨询关于 libvirt 在 lxc 非特权容器内嵌套虚拟化非预期行为的解决方式 [issue 556](https://gitlab.com/libvirt/libvirt/-/issues/556) ，已经验证并解决该问题
+ 2309 独立发版测试需要重测验证的用例数高达 1674 个，手动重测已经不可能，尝试编写新的测试工具 [mugen-libvirt](https://gitee.com/weilinfox/mugen-libvirt)

##### 5.2.3 mugen issue

+ 根据黄烁整理的文档和我以前的报告，在 openEuler 2203 和 openEuler 2309 x86_64 进行重新测试，根据结果向 openeuler/mugen 上游开 issue
  
  | 编号                                                        | 标题                                                                                                        |
  |:---------------------------------------------------------:|:--------------------------------------------------------------------------------------------------------- |
  | [I8FN7E](https://gitee.com/openeuler/mugen/issues/I8FN7E) | openssl 测试套一些用例无法在 openEuler 2309 x86_64 QEMU 测试通过                                                        |
  | [I8FNJD](https://gitee.com/openeuler/mugen/issues/I8FNJD) | os-basic 测试套 oe_test_dmraid 用例无法在 openEuler 2203 2309 x86_64 QEMU 测试通过                                    |
  | [I8FNJQ](https://gitee.com/openeuler/mugen/issues/I8FNJQ) | mc 测试套 oe_test_mc_base_01 用例无法在 openEuler 2203 2309 x86_64 QEMU 测试通过                                      |
  | [I8FOEN](https://gitee.com/openeuler/mugen/issues/I8FOEN) | os-basic 测试套 oe_test_gcc_01 用例无法在 openEuler 2309 x86_64 QEMU 测试通过                                         |
  | [I8FOHC](https://gitee.com/openeuler/mugen/issues/I8FOHC) | gsl 测试套 oe_test_gsl_histogram_01 用例无法在 openEuler 2309 x86_64 QEMU 测试通过                                    |
  | [I8FTGN](https://gitee.com/openeuler/mugen/issues/I8FTGN) | iptables 测试套 oe_test_ip6tables-restore_01, oe_test_iptables-restore 用例无法在 openEuler 2309 x86_64 QEMU 测试通过 |
  | [I8FTHB](https://gitee.com/openeuler/mugen/issues/I8FTHB) | iptables 测试套 oe_test_ip6tables-save 无法在 openEuler 2203 2309 x86_64 QEMU 测试通过                              |
  | [I8FTRV](https://gitee.com/openeuler/mugen/issues/I8FTRV) | os-basic 测试套一些测试用例依赖特定的软件包但是没有使用 DNF_INSTALL 显式安装                                                         |
  | [I8FTGC](https://gitee.com/openeuler/mugen/issues/I8FTGC) | clang 测试套 oe_test_clang_02 用例无法在 openEuler 2309 x86_64 QEMU 测试通过                                          |
  | [I8FOQE](https://gitee.com/openeuler/mugen/issues/I8FOQE) | kernel 测试套 oe_test_io_sched 用例硬编码 /sys/block/sda 导致测试不适配 QEMU 环境                                          |
  | [I8FOKL](https://gitee.com/openeuler/mugen/issues/I8FOKL) | rsyslog 测试套一些用例需要 NODE2 但 rsyslog.json 中缺少相关声明                                                            |
  | [I8FOOC](https://gitee.com/openeuler/mugen/issues/I8FOOC) | lvm2 测试套 oe_test_lvm2_pvdisplay_001 用例需要额外的磁盘参与测试但 lvm2.json 中缺少相关声明                                      |
  | [I89X70](https://gitee.com/openeuler/mugen/issues/I89X70) | initscripts 测试套 oe_test_service_network 用例缺陷修复                                                            |
  | [I8FNQN](https://gitee.com/openeuler/mugen/issues/I8FNQN) | kernel 测试套 oe_test_swap_compress 用例无法在 openEuler 2203 2309 x86_64 QEMU 测试通过                               |
  | [I8FO45](https://gitee.com/openeuler/mugen/issues/I8FO45) | mugen 在 openEuler 2309 从 systemctl disable 获取的 .service 文件名不正确                                            |
  | [I8FO8B](https://gitee.com/openeuler/mugen/issues/I8FO8B) | libosinfo 测试套 oe_test_osinfo-db-import 用例无法在 openEuler 2203 2309 x86_64 QEMU 测试通过                         |
  | [I8FOO8](https://gitee.com/openeuler/mugen/issues/I8FOO8) | mugen get_test_disk 函数将 /dev/sr0 光驱设备作为可用的测试磁盘返回                                                          |
  | [I8FTKZ](https://gitee.com/openeuler/mugen/issues/I8FTKZ) | os-basic 测试套 oe_test_system_log_recorded 用例脚本缺陷                                                           |
  | [I8FNYC](https://gitee.com/openeuler/mugen/issues/I8FNYC) | kmod 测试套 oe_test_insmod-lsmod 用例无法在 openEuler 2203 2309 x86_64 QEMU 测试通过                                  |
  | [I8FPEI](https://gitee.com/openeuler/mugen/issues/I8FPEI) | os-basic 测试套 oe_test_uname, oe_test_awk, oe_test_system_log_dmesg 用例在 openEuler 2309 RISC-V 测试失败          |
  | [I8H7M3](https://gitee.com/openeuler/mugen/issues/I8H7M3) | 一些测试用例依赖未显式安装且未预装的软件包进行测试                                                                                 |
  | [I8H8D0](https://gitee.com/openeuler/mugen/issues/I8H8D0) | ipmitool  测试套 oe_test_service_ipmievd 用例无法在 openEuler 2203 2309 x86_64 QEMU 测试通过                          |

+ [回复](https://gitee.com/openeuler/QA/pulls/589#note_22757387_conversation_93685568) QA 评论填坑，并在 QA 提交了一个 issue I8H8P1 说明情况
  
  | issue 链接                                               | issue 标题                                             |
  |:------------------------------------------------------:|:---------------------------------------------------- |
  | [I8H8P1](https://gitee.com/openeuler/QA/issues/I8H8P1) | 在 openEuler 2309 RISC-V 的 mugen 测试中发现的测试用例本身问题请求用例修复 |

+ 对一些在 x86_64 多次复测可以通过的产生疑问，需要之后的测试进一步验证 [列表](https://gitlab.inuyasha.love/weilinfox/plct-working/-/blob/master/Done/Month05/Week3/emmm.md)

##### 5.2.4 RuyiSDK 测试

+ 编写 mugen 用例并发布在 [mugen-ruyi](https://gitee.com/weilinfox/mugen-ruyi) 仓库，现有测试用例 6 个，覆盖 RUYI 20231126 版本

+ 搭建 [Jenkins CI](https://jenkins.inuyasha.love/) ，接入并测试 Fedora 38 、 Ubuntu Jammy 、 openEuler 2203 、 openEuler2303 、 openEuler2309 QEMU 测试环境可用，接入并测试 RevyOS 实机测试环境可用， Debian bookworm 构建环境可用

+ 建立 RUYI 包管理多版本 mugen 测试 [Jenkins CI 工程](https://jenkins.inuyasha.love/job/ruyi-test/)，编写 Jenkins 流水线并接入 [mugen-ruyi Gitee 仓库](https://gitee.com/weilinfox/mugen-ruyi)，仓库脚本更新时自动触发测试，测试完成后自动备份测试日志

+ 建立 ruyi 包管理构建 [Jenkins CI 工程](https://jenkins.inuyasha.love/job/ruyi-auto-build/) ，在 Debian bookworm 构建二进制

+ RUYI 包管理在多版本测试时发现无法在 oE 2203 LTS 的低版本 glibc 下运行，经过沟通将 openEuler 2203 和 openEuler2303 移出测试范围

+ 维护 RUYI 包管理的使用文档并提交为 [README.md](https://github.com/ruyisdk/doc4test/blob/main/README.md)

+ 提出了 doc4test 仓库的文档构建方式 [询问文档构建使用的工具](https://github.com/ruyisdk/doc4test/issues/1) ，答复是这个仓库只作为内部交流用，所以不做限制

+ 整理 pre_round1 、 pre_round2 和 pre_round3 测试报告并提交 pr [!1](https://gitee.com/yunxiangluo/ruyi-sdk-v0.2-test/pulls/1) [!2](https://gitee.com/yunxiangluo/ruyi-sdk-v0.2-test/pulls/2) [!3](https://gitee.com/yunxiangluo/ruyi-sdk-v0.2-test/pulls/3) [!4](https://gitee.com/yunxiangluo/ruyi-sdk-v0.2-test/pulls/4)

+ 根据测试结果提出 issue
  
  | issue 链接                                         | issue 标题                                                                          |
  |:------------------------------------------------:|:--------------------------------------------------------------------------------- |
  | [#4](https://github.com/ruyisdk/ruyi/issues/4)   | 【补充 20231030 版本 issue】 ruyi install 依赖 wget 但是该软件包在 oE 2309 未预装， ruyi 本身则没有发现安装失败 |
  | [#5](https://github.com/ruyisdk/ruyi/issues/5)   | 【补充 20231107 版本 issue】 ruyi 在 openEuler 2203 无法运行                                 |
  | [#6](https://github.com/ruyisdk/ruyi/issues/6)   | 主线版本 list 命令无法使用                                                                  |
  | [#9](https://github.com/ruyisdk/ruyi/issues/9)   | Jenkins CI 使用 scripts 目录下的脚本构建 riscv64 二进制失败                                      |
  | [#13](https://github.com/ruyisdk/ruyi/issues/13) | ruyi admin 命令使用方法及测试通过标准                                                          |
  | [#14](https://github.com/ruyisdk/ruyi/issues/14) | XDG_CACHE_HOME 环境变量非空的情形下 progcache 不随该变量变化                                       |
  | [#15](https://github.com/ruyisdk/ruyi/issues/15) | ruyi list 不过滤本机架构不支持的软件包                                                          |

##### 5.2.5 QtRvSim

+ 完成 QtRvSim developer 部分文档翻译并验证 CI 构建部分，提交 pr [!4](https://gitee.com/yunxiangluo/qtrvsim-test/pulls/4) [!5](https://gitee.com/yunxiangluo/qtrvsim-test/pulls/5) [!6](https://gitee.com/yunxiangluo/qtrvsim-test/pulls/6)
+ 完成 QtRvSim 命令行界面使用说明文档，提交 pr [!8](https://gitee.com/yunxiangluo/qtrvsim-test/pulls/8)

##### 5.2.6 其他工作

+ 11 月 13 日做了技术分享《RuyiSDK测试策略和测试方法》的 mugen 部分。[提纲与 ppt](https://gitlab.inuyasha.love/weilinfox/plct-working/-/tree/master/Note/mugen-ruyi)
+ 11 月 22 日做了技术分享《QtRVSim：小白也能上手的 RISC-V 模拟器》的命令行部分《QtRvSim 命令行界面简单使用》。[ppt](https://gitlab.inuyasha.love/weilinfox/plct-working/-/tree/master/Note/qtrvsim_cli-tech)

##### 5.2.7 学习

+ 验证老 [rvv-atg](https://github.com/B1ACK917/rvv-atg) 一切正常； [rvv-atg](https://github.com/hushenwei2000/rvv-atg) 没有出 second 脚本， riscvof 插件异常
  学习 [sail-riscv](https://github.com/riscv/sail-riscv/) 主仓库
+ 学习 riscvof 插件和 sail 本身
+ RISC-V 指令集学习 [LFD210](https://training.linuxfoundation.cn/courses/83)
+ 阅读 RISC-V spec Volume 1, Unprivileged Specification version 20191213 [PDF](https://drive.google.com/file/d/1s0lZxUZaa7eV_O0_WsZzaurFLLww7ou5/view?usp=drive_link)

##### 5.2.8 关联的提交

+ openEuler RISC-V 23.09 独立发布版本测试 yunxiangluo/openEuler-RISC-V-23.09-independent pr [!2](https://gitee.com/yunxiangluo/openEuler-RISC-V-23.09-independent/pulls/2) [!5](https://gitee.com/yunxiangluo/openEuler-RISC-V-23.09-independent/pulls/5)
+ QtRvSim 测试报告 yunxiangluo/qtrvsim-test pr [!4](https://gitee.com/yunxiangluo/qtrvsim-test/pulls/4) [!5](https://gitee.com/yunxiangluo/qtrvsim-test/pulls/5) [!6](https://gitee.com/yunxiangluo/qtrvsim-test/pulls/6) [!8](https://gitee.com/yunxiangluo/qtrvsim-test/pulls/8)
+ ruyiSDK v0.2 Test yunxiangluo/ruyi-sdk-v0.2-test pr [!1](https://gitee.com/yunxiangluo/ruyi-sdk-v0.2-test/pulls/1) [!2](https://gitee.com/yunxiangluo/ruyi-sdk-v0.2-test/pulls/2) [!3](https://gitee.com/yunxiangluo/ruyi-sdk-v0.2-test/pulls/3) [!4](https://gitee.com/yunxiangluo/ruyi-sdk-v0.2-test/pulls/4)
+ doc4test ruyisdk/doc4test commit [45db2c8](https://github.com/ruyisdk/doc4test/commit/45db2c82d82b4c383f19b3750bc2e39f31b3fdc8) [94c2c64](https://github.com/ruyisdk/doc4test/commit/94c2c649ef47501fb535a929d56ccb3b3e9037f7)

#### 5.3 朱旭昌

##### 5.3.1 openEuler测试

- 根据上周RC8测试分析结果，编写了测试文档[PR](https://gitee.com/yunxiangluo/open-euler-risc-v-23.09-test/pulls/105)
- 对OpenEuler 2303 RISCV进行了[test1](https://github.com/Pagerd/PLCT/tree/main/Report/Nov/week21/oefor2309test_2)范围的测试，得到部分测试结果并与之前进行的测试结果进行了简单的比对[Result](https://github.com/Pagerd/PLCT/tree/main/Report/Nov/week21/2303ResultReport.md)

- 对openEuler2309独立发版镜像进行lpi4a硬件测试，测得2309在lpi4a上运行正常，提交测试结果[#pr1](https://gitee.com/yunxiangluo/openEuler-RISC-V-23.09-independent/pulls/1)
- 编写了lpi4a的openEuler2309安装文档并进行提交[#pr4](https://gitee.com/yunxiangluo/openEuler-RISC-V-23.09-independent/pulls/4)
- 对openEuler2309独立发版镜像进行VF2硬件测试，测得2309在VF2上运行正常，提交测试结果[#pr6](https://gitee.com/yunxiangluo/openEuler-RISC-V-23.09-independent/pulls/6)
- 对OpenEuler 2309 RISCV qemu进行了[test1](https://github.com/Pagerd/PLCT/tree/main/Report/Nov/week21/oefor2309test_2)范围的测试，并在OpenEuler 2309 x86 及OpenEuler 2303 x86上进行对比测试，产生初步测试报告[report](https://github.com/Pagerd/PLCT/tree/main/Report/Nov/week22/Mugen.md)，遗漏部分测试套正在重新测试

##### 5.3.2 RuyiSDK测试

- 在20231107 版本中对ruyi在Ubuntu及OpenEuler 2303 2309上进行验证测试，测试通过[log](https://github.com/Pagerd/PLCT/tree/main/Report/Nov/week18/ruyi)

- 对ruyi包管理器20231126进行手动测试，发现在OpenEuler 2303 x86下下ruyi会[报错](https://github.com/Pagerd/PLCT/tree/main/Report/Nov/week22/ruyi.md)(未预装tar)并提交issue[#12](https://github.com/ruyisdk/ruyi/issues/12)

##### 5.3.2 ruyiSDK工具（SAIL、QTRVSIM）

- 对Qtrvsim的README文档及user下的两个文档进行了汉化，并对文档中的部分内容进行了验证并提交[pr#7](https://gitee.com/yunxiangluo/qtrvsim-test/pulls/7)[pr#2](https://gitee.com/yunxiangluo/qtrvsim-test/pulls/7)
- 在技术分享中对qtrvsim进行了简单的介绍，主要介绍了qtrvsim是怎样的软件
- 学习了仓库[Sail-RISCV](https://github.com/riscv/sail-riscv)，按照教程安装了Opam及Sail并运行了测试套并产出[log](https://github.com/Pagerd/PLCT/tree/main/Report/Nov/week18/sail_test)
- 创建了Sail学习笔记，并编写了通过Opam安装Sail的方式
- 进行了技术分享报告，分享了sail在ISA中的作用
- 继续学习Sail，更新学习笔记 [Note](https://github.com/Pagerd/PLCT/blob/main/Note/sail/README.md)

## SG2042 Upstream

## Duo Upstream

## RVI Collaborations

### Jie Wu

## 参考链接

- [PLCT 实验室的开放职位（实习生）](https://github.com/plctlab/weloveinterns/blob/master/open-internships.md)
- [PLCT 开源进展 (PLCT Weekly)](https://github.com/plctlab/PLCT-Weekly)
- [PLCT 公开报告幻灯片（选集）](https://github.com/plctlab/PLCT-Open-Reports)
