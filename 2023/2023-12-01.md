# PLCT 开源进展·第 52 期·2023 年 12 月 1 日

## 卷首语

在繁忙与努力的工作中，我们不知不觉又来到了12月。岁月不居，时节如流，在2023年，PLCT团队紧紧围绕着RuyiSDK这项核心工作，聚焦RISC-V架构的开源编译工具链、并行软件开发工具集和模拟器，参与和推动了RISC-V开源社区的生态建设和进步。在即将到来的12月15日PLCT实验室开放日活动中，我们将一如既往地和大家分享和回顾这一年的努力和收获！欢迎新朋老友们前来围观和鼓励！
此外，从11月开始，原TARSIER项目的月刊内容也合并到PLCT月刊一起发布了，请大家继续关注和支持这些一直在为RISC-V开源操作系统努力工作的小伙伴们吧！

## 本期亮点
1. RuyiSDK0.2版即将在12月15日的PLCT开放日发布，集成和测试工作正在稳步推进
2. OpenJDK RV32G C2 JIT完成移植，与此前仅有的解释器执行模式相比，性能提升显著

## RuyiSDK IDE

IDE部分11月10日提交了一版基于Eclipse 已有插件集成的x86_64的可执行程序，界面定制部分仅完成可执行程序LOGO定制和加载界面定制，未按照预期完成所需的定制任务。后因为IDE开发人员变动，开发进度暂停。



## RuyiSDK 包管理器

项目地址：https://github.com/ruyisdk/ruyi

在提供的软件包方面，我们完成了三种 GNU 工具链（上游版本、PLCT 维护版本，以及 T-Head 维护版本）、上游 LLVM、上游 QEMU 静态 linux-user 模拟器的打包工作。其中，目前为三种 GNU 工具链同时提供了 x86\_64 与 RV64GC 的二进制包。我们还集成了 [CoreMark](https://github.com/eembc/coremark) 与 [RuyiSDK 官方维护的 demo 代码片段](https://github.com/ruyisdk/demo)包，可供方便解压、自行验证。

在包管理器方面，目前支持基于已安装的 GNU 工具链包创建自带干净 sysroot 的虚拟环境，并且随虚拟环境同时提供 CMake 工具链文件与 Meson 交叉文件，方便用户使用。

接下来，还会支持创建 LLVM 工具链的虚拟环境、集成 QEMU 模拟器、包管理器的自我卸载等功能，敬请期待。

## V8

#### 实现B扩展汇编器
1. 5009246: [riscv] Add Zbb/Zba/Zbs extension | https://chromium-review.googlesource.com/c/v8/v8/+/5009246

#### port turboshaft into riscv
1. 5066071: [riscv] Implement ChangeInt32ToInt64 when input is a load | https://chromium-review.googlesource.com/c/v8/v8/+/5066071
2. 5051556: [riscv][turboshaft] Port InstructionSelector part4 | https://chromium-review.googlesource.com/c/v8/v8/+/5051556
3. 5046347: [riscv][turboshaft] Port InstructionSelector part 3 | https://chromium-review.googlesource.com/c/v8/v8/+/5046347
4. 5011169: [riscv][turboshaft] Port InstructionSelector | https://chromium-review.googlesource.com/c/v8/v8/+/5011169
5. 5037923: [riscv] Port InstructionSelector part 3 | https://chromium-review.googlesource.com/c/v8/v8/+/5037923
6. 5032534: [riscv][compiler] Generalize InstructionSelectorT for Turboshaft (part 19) | https://chromium-review.googlesource.com/c/v8/v8/+/5032534

#### 其他的移植
1. 5061589: [riscv][turboshaft] Merge EqualOp into ComparisonOp | https://chromium-review.googlesource.com/c/v8/v8/+/5061589
2. 5055995: [riscv][jspi][arm64] Port JS central stack switch | https://chromium-review.googlesource.com/c/v8/v8/+/5055995
3. 5046837: [riscv][wasm] Pass arguments directly to memory.init | https://chromium-review.googlesource.com/c/v8/v8/+/5046837
4. 5038248: [riscv]Reland^5 "[wasm][x64] Run JS imports on the central stack" | https://chromium-review.googlesource.com/c/v8/v8/+/5038248
5. 5031521: [riscv][assembler] Refactor log format for --riscv-debug | https://chromium-review.googlesource.com/c/v8/v8/+/5031521
6. 5013640: [riscv] Enable some SIMD test cases and enable turboshaft/instruction-selection on riscv64 | https://chromium-review.googlesource.com/c/v8/v8/+/5013640

## Spidermonkey
无

## OpenJDK Upstream
1. Co-authored JDK-mainline PRs:
- https://github.com/openjdk/jdk/pull/15718 (8316180: Thread-local backoff for secondary_super_cache updates)
- https://github.com/openjdk/jdk/pull/15455 (8301997: Move method resolution information out of the cpCache)

2. Reviewed JDK-mainline PRs:
- https://github.com/openjdk/jdk/pull/16562 (8319716: RISC-V: Add SHA-2)
- https://github.com/openjdk/jdk/pull/15898 (8316859: RISC-V: Disable detection of V through HWCAP)
- https://github.com/openjdk/jdk/pull/15911 (8316933: RISC-V: compiler/vectorapi/VectorCastShape128Test.java fails when using RVV)
- https://github.com/openjdk/jdk/pull/15917 (8316566: RISC-V: Zero extended narrow oop passed to Atomic::cmpxchg)
- https://github.com/openjdk/jdk/pull/15919 (8316645: RISC-V: Remove dependency on libatomic by adding cmpxchg 1b)
- https://github.com/openjdk/jdk/pull/15965 (8317257: RISC-V: llvm build broken)
- https://github.com/openjdk/jdk/pull/15899 (8315716: RISC-V: implement ChaCha20 intrinsic)
- https://github.com/openjdk/jdk/pull/16186 (8317971: RISC-V: implement copySignF/D and signumF/D intrinsics)
- https://github.com/openjdk/jdk/pull/16314 (8318222: RISC-V: C2 CmpU3 / 8318223: RISC-V: C2 CmpUL3)
- https://github.com/openjdk/jdk/pull/16346 (8318224: RISC-V: C2 UDivI / 8318723: RISC-V: C2 UDivL)
- https://github.com/openjdk/jdk/pull/16394 (8318225: RISC-V: C2 UModI / 8318226: RISC-V: C2 UModL)
- https://github.com/openjdk/jdk/pull/16348 (8318735: RISC-V: Enable related hotspot tests run on riscv)
- https://github.com/openjdk/jdk/pull/16357 (8318805: RISC-V: Wrong comments instructions cost in riscv.ad)
- https://github.com/openjdk/jdk/pull/16362 (8318827: RISC-V: Improve readability of fclass result testing)
- https://github.com/openjdk/jdk/pull/16391 (8318953: RISC-V: Small refactoring for MacroAssembler::test_bit)
- https://github.com/openjdk/jdk/pull/16181 (8318086: [jvmci] RISC-V: Reuse target config from TargetDescription)

3. Proposed JDK17u backport PRs:
- https://github.com/openjdk/jdk17u-dev/pull/1823 (8316743: RISC-V: Change UseVectorizedMismatchIntrinsic option result to warning)

4. Reviewed JDK17u upstream PRs:
- https://github.com/openjdk/jdk17u/pull/383 (8317700: [17u] Undo backport 8317674 of 8316566 which was pushed to wrong repo)

5. Proposed JDK21u backport PRs:
- https://github.com/openjdk/jdk21u/pull/224 (8316743: RISC-V: Change UseVectorizedMismatchIntrinsic option result to warning)
- https://github.com/openjdk/jdk21u/pull/223 (8317257: RISC-V: llvm build broken)

6. Regular OpenJDK Committer Voting:
- https://mail.openjdk.org/pipermail/jdk8u-dev/2023-September/017581.html

7. JDK-mainline PRs:
- https://github.com/openjdk/jdk/pull/16703 (8320280: RISC-V: Avoid passing t0 as temp register to MacroAssembler::lightweight_lock/unlock)

8. JDK21U backport PRs:
- https://github.com/openjdk/jdk21u/pull/399 (8320280: RISC-V: Avoid passing t0 as temp register to MacroAssembler::lightweight_lock/unlock)

9. JDK17U backport PRs:
- https://github.com/openjdk/jdk17u-dev/pull/1960 (8319184: RISC-V: improve MD5 intrinsic)
- https://github.com/openjdk/jdk17u-dev/pull/1970 (8316645: RISC-V: Remove dependency on libatomic by adding cmpxchg 1b)

## OpenJDK RV32G
- [向 OpenJDK 社区汇报 JDK11U linux/riscv32 工作进展](https://mail.openjdk.org/pipermail/riscv-port-dev/2023-November/001212.html)
- [JDK11U RV32G C2 SPECjvm2008 测试报告](https://github.com/openjdk-riscv/jdk11u/issues/594)
- [JDK11U RV32G C2 SPECjbb2005 测试报告](https://github.com/openjdk-riscv/jdk11u/issues/592)
- [JDK11U RV32G C2 SPECjbb2015 测试报告](https://github.com/openjdk-riscv/jdk11u/issues/595)
- [JDK11U RV32G C2 tier1 测试报告](https://github.com/openjdk-riscv/jdk11u/issues/596)
- [Fix fRegD operand to add fRegD10](https://github.com/zifeihan/jdk11u/commit/cebda931e7782060eed6156650a2910b467cf37a)

## OpenJDK8 Backporting
[JIT的调试仍在进行中，解释器的jtreg测试通过率进一步增加]https://github.com/zhangxiang-plct/jdk8u/issues/369

## DynamoRIO RV64GC

第一阶段的移植完成，接下来继续推进，跑通更多测试用例。

- [i#3544 RV64: Add support for XTheadCmo and XTheadSync extensions](https://github.com/DynamoRIO/dynamorio/pull/6477)
- [i#3544 RV64: Refine fault translation and signal handling](https://github.com/DynamoRIO/dynamorio/pull/6461)
- [i#2267 utils.cmake: Use  for cpu_vendor as fallback](https://github.com/DynamoRIO/dynamorio/pull/6457)
- [i#3544 RV64: Enable more tests on CI](https://github.com/DynamoRIO/dynamorio/pull/6447)
- [i#3544 RV64: Fix a copy-paste mistake in execute_handler_from_dispatch](https://github.com/DynamoRIO/dynamorio/pull/6435)
- [i#6411 runcmp: Use external diff on failure if possible](https://github.com/DynamoRIO/dynamorio/pull/6428)
- [i#3544 RV64: Implement tp, stolen reg and lr/sc sequence mangling](https://github.com/DynamoRIO/dynamorio/pull/6419)
- [i#3544 RV64: Implement insert_reachable_cti](https://github.com/DynamoRIO/dynamorio/pull/6418)

还有一个 lr/sc 相关的 GDB patch 已被接收，但尚未合进主线：

- [\[PATCH v3\] gdb: RISC-V: Refine lr/sc sequence support](https://inbox.sourceware.org/gdb-patches/871qd0ts1c.fsf@redhat.com/)

## OpenCV RISC-V 优化

- 优化面向 Vector (RVV) 扩展的 Universal Intrinsic 后端实现
    
    [PR #24485](https://github.com/opencv/opencv/pull/24485): Optimize the Implementation of RVV Universal Intrinsic.
    
    [PR #24582](https://github.com/opencv/opencv/pull/24582): Optimize the v_lut* functions for RISC-V Vector(RVV).

- 添加面向 Packed SIMD (RVP) 扩展的函数优化
    
    [PR #24556](https://github.com/opencv/opencv/pull/24556): Optimization based on RISC-V P Packed SIMD Extension v0.5.2
## GNU Toolchain
### Yixuan Chen
- 在武汉meet up上介绍了GNU Cauldron 2023的会议：[slides](https://docs.google.com/document/d/1_01XZvVcbb-IYeQ1B5CW2bE9O921O5sOudhmYT0_EjU/edit?usp=sharing)
- 尝试对RVV0.7与RVV1.0进行兼容性支持，实现了RVV的版本控制：[gcc patch](https://gcc.gnu.org/pipermail/gcc-patches/2023-November/635698.html) [binuils patch](https://sourceware.org/pipermail/binutils/2023-November/130431.html)
- 正在进行gprofng的RISC-V后端移植，预计下月完成支持：[repo](https://github.com/XYenChi/binutils-gdb/tree/port-gprofng)
### Yulong Shi
尝试在Libmvec支持添加RISC-V后端支持，已添加cos函数框架，在进一步进行功能测试中：[repo](https://github.com/yulong-plct/riscv-glibc/tree/libmvec)
### Shihua Liao
提交了Scalar Crypto的intrinsic实现到上游，正在支持Bitmanip intrinsic，预计下月提交：[gcc patch](https://gcc.gnu.org/pipermail/gcc-patches/2023-November/638238.html)
### Jiawei Chen
- Rebase了zcmp与zcmt扩展的binutils实现，已提交上游审核：[cm.push/pop patch](https://sourceware.org/pipermail/binutils/2023-November/130690.html) [cm.mv patch](https://sourceware.org/pipermail/binutils/2023-November/130691.html) [zcmt patch](https://sourceware.org/pipermail/binutils/2023-November/130849.html)
- 修复了Zca与norvc符号冲突的问题：[PR](https://github.com/openhwgroup/corev-binutils-gdb/pull/108)
- 提交了RISC-V Profiles的GCC实现，目前正在征询修改意见中：[gcc patch](https://gcc.gnu.org/pipermail/gcc-patches/2023-November/637490.html)
- Review了RISC-V GNU Toolchain仓库新的修改，提出了一些修改建议：[PR](https://github.com/riscv-collab/riscv-gnu-toolchain/pull/1380) [PR](https://github.com/riscv-collab/riscv-gnu-toolchain/pull/1381)
#### RISC-V GNU Toolchain东亚时区双周会Slides链接：
https://docs.google.com/presentation/d/1b7kZke1D1xvktcptnbKdhSw6uWr6yEu8SHXEx0hux20/edit?usp=sharing
## LLVM Monorepo
https://github.com/llvm/llvm-project/pull/68310 [ConstantRange] Handle Intrinsic::ctpop 
https://github.com/llvm/llvm-project/pull/72525 [InstCombine] Propagate NUW flags for shl (lshr X, C1), C2 -> shl X, C2-C1
https://github.com/llvm/llvm-project/pull/72693 [InstCombine] Propagate NSW/NUW flags for (X - Y) - Z -> X - (Y + Z)
https://github.com/llvm/llvm-project/pull/72535 [InstCombine] Infer shift flags with unknown shame
https://github.com/llvm/llvm-project/pull/72683 [ValueTracking] Ignore poison values in computeKnownBits
https://github.com/llvm/llvm-project/pull/72625 [InstCombine] Preserve NSW flags for lshr (mul nuw X, C1), C2 -> mul nuw nsw X, (C1 >> C2)
https://github.com/llvm/llvm-project/pull/72548 [InstCombine] Preserve NSW flags for neg instructions
https://github.com/llvm/llvm-project/pull/72483 [InstCombine] Add exact flags for ext idiom shr (shl X, Y), Y
https://github.com/llvm/llvm-project/pull/72432 [SCCP] Propagate exact flags
https://github.com/llvm/llvm-project/pull/72373 [InstCombine] Infer nuw flags for C-(X+C2) -> (C-C2)-X
https://github.com/llvm/llvm-project/pull/72407 [InstCombine] Infer nsw flag for (X <<nuw C1) >>u C --> X << (C1 - C)
https://github.com/llvm/llvm-project/pull/72365 [ValueTracking] Add support for non-splat vecs in computeConstantRange
https://github.com/llvm/llvm-project/pull/72143 [SCCP] Infer nneg on existing zext 
https://github.com/llvm/llvm-project/pull/72052 [CVP] Infer nneg on existing zext 
https://github.com/llvm/llvm-project/pull/71947 [InstCombine] Infer nneg flag from shift users
https://github.com/llvm/llvm-project/pull/72053 [RISCV][CodeGenPrepare] Remove duplicated transform for zext. NFC. 

### Chunyu Liao
[RISCV][MC] MC layer support for xcvmem and xcvelw extensions
https://github.com/llvm/llvm-project/commit/71a7108ee91a522251ff37638e26158570c1e2a5
[RISCV] DAG combine (mul (add x, 1), y) -> vmadd
https://github.com/llvm/llvm-project/commit/9166cd2a71ba81d2c9c68f80371b1397943a813b

### Kiva

- [Build][CI] Use Debug build in self-hosted runner (https://github.com/ruyisdk/llvm-project/pull/20)
- [LLVM][RVV 0.7.1] Emulate vector register whole load/store, and fix potential instruction selection bugs (https://github.com/ruyisdk/llvm-project/pull/23)
- [LLVM][RVV 0.7.1] Fix Vamo tests and reorganize file structure (https://github.com/ruyisdk/llvm-project/pull/26)
- [LLVM][RVV 0.7.1] Emulate whole vector register move instructions (https://github.com/ruyisdk/llvm-project/pull/27)
- [LLVM][RVV 0.7.1] Support whole load/store with LMUL = 2, 4, 8 (https://github.com/ruyisdk/llvm-project/pull/29)

### Yongtai Li
- upstream 社区接收的 patch:
    - [Flang][OpenMP] Correctly handling continuation lines with Fixed Source Form Conditional Compilation Sentinels https://github.com/llvm/llvm-project/pull/70309
- 使用 SPEC CPU2017 测试 Flang 的兼容性:
    - [安装及测试结果](https://github.com/sihuan/llvm-work/blob/master/spec2017/)
    - `628.pop2_s` Flang 编译报错 not yet implemente
    - `521.wrf_r` Fortran runtime error

### Junjie Zheng

- upstream 已合并:
  - [InstCombine] When -A + B both have nsw flag, set nsw flag. https://github.com/llvm/llvm-project/pull/72127
  - [InstCombine] Simplify sdiv -X, X into X == INT_MIN ? 1 : -1 https://github.com/llvm/llvm-project/pull/71768
- upstream 未合并:
  - [InstCombine] simplify (X * C0) / (X * C1) into C0 / C1. https://github.com/llvm/llvm-project/pull/73204
  - [InstCombine] Simplify (-x * y * -x) into (x * y * x) https://github.com/llvm/llvm-project/pull/72953

## gollvm

## LIBCXX Experimental/simd

本期共有1个PR合并进入LLVM上游：

- [[libc++] <experimental/simd> Add implicit type conversion constructor for class simd/simd_mask](https://github.com/llvm/llvm-project/pull/71132)

目前项目共有15个patch已合并进入LLVM上游仓库。

## LuaJIT RV64G Porting

Every known bug related to RISC-V should now be fixed, JIT is regarded as fully operational.
We appreciate your testing and comments!

- JIT
  - [Disassembler: improve relocation resolution](https://github.com/ruyisdk/LuaJIT/commit/e1a9daac0a9fb08ed9c82fe0fa248ad36255f5d7)
  - [Asm: fix register allocation bug in asm_hrefk](https://github.com/ruyisdk/LuaJIT/commit/c1d3628d93ecd7ba9bfcee7f7c00200c76794bc2)
  - [Upstream: check for upvalue state transition in IR_UREFO](https://github.com/ruyisdk/LuaJIT/commit/001674e1546ced1ecaf5ced0b8139b9253c92da3)
  - [Linux: make mremap() non-moving due to VA spaces woes](https://github.com/ruyisdk/LuaJIT/commit/8c4b59def89dcebb2cba46545e8e2aea46f7e8f4)
  - [Asm: fix jump patcher cache flushing range](https://github.com/ruyisdk/LuaJIT/commit/d9322f3bdf0dfa29017356ea7a48a1128d808e9c)
  - [Support: fix lj_mcode_sync, plus musl workaround](https://github.com/ruyisdk/LuaJIT/commit/3b6f3409e494efe178bd16849b5ff0df5dc885c2)

## gem5

## Spike

## QEMU

## box64

本月继续完善 Wine WOW64 相关支持。

- [\[DYNAREC_RV64\] Added more opcodes for flatout.exe](https://github.com/ptitSeb/box64/pull/1100)
- [\[DYNAREC_RV64\] Added more opcodes for flatout.exe](https://github.com/ptitSeb/box64/pull/1099)
- [\[DYNAREC\]\[INTERPRETER\] Rework on 6C/6D/6E/6F opcodes](https://github.com/ptitSeb/box64/pull/1098)
- [\[DYNAREC_RV64\] Added missing fallbacks in x87 opcodes](https://github.com/ptitSeb/box64/pull/1096)
- [\[WRAPPERS\] Added fallback glXSwapIntervalEXT function if not present](https://github.com/ptitSeb/box64/pull/1092)
- [\[DYNAREC_RV64\] Fixed BTS BTR BTC again](https://github.com/ptitSeb/box64/pull/1090)
- [\[DYNAREC_RV64\] Fixed emit_ror32](https://github.com/ptitSeb/box64/pull/1087)
- [\[SIGNAL\] Fixed copyUCTXreg2Emu](https://github.com/ptitSeb/box64/pull/1086)
- [\[CMAKE\] Add WITH_MOLD option](https://github.com/ptitSeb/box64/pull/1085)
- [\[DYNAREC_RV64\] Fixed BTS BTR BTC for zbs extension](https://github.com/ptitSeb/box64/pull/1084)
- [\[DYNAREC_RV64\] Added more opcode for minipad2.exe](https://github.com/ptitSeb/box64/pull/1081)
- [\[DYNAREC_RV64\] Fixed FCOMP opcode](https://github.com/ptitSeb/box64/pull/1080)
- [\[RV64_DYNAREC\] Added 64 8F POP & 67 66 89 MOV opcodes (for minipad2.exe)](https://github.com/ptitSeb/box64/pull/1076)
- [\[RV64_DYNAREC\] Added FD STD, fixed FC CLD and F3 A4 REP MOVSB (for minipad2)](https://github.com/ptitSeb/box64/pull/1075)
- [\[RV64_DYNAREC\] Fixed zbb andn optimization](https://github.com/ptitSeb/box64/pull/1074)
- [\[RV64_DYNAREC\] [32BITS] Added more opcodes for minipad2.exe](https://github.com/ptitSeb/box64/pull/1062)
- [\[RV64_DYNAREC\] Added a few opcodes for minipad2.exe](https://github.com/ptitSeb/box64/pull/1061)
- [\[COSIM\] Fix GO_TRACE](https://github.com/ptitSeb/box64/pull/1059)
- [\[ELFLOADER\] Fixed align issue (may help #1057)](https://github.com/ptitSeb/box64/pull/1058)

## SAIL/ACT

## openArkCompiler community

PLCT实验室的史宁宁依然每周在更新方舟编译器社区周报（OpenArkCompiler Weekly），目前已经更新到第 188 期。

方舟编译器周报每周日晚上通过 Repo、知乎、Bilibili 和邮件列表发布。

- Repo: https://github.com/isrc-cas/arkcompiler-materials
- 知乎：https://www.zhihu.com/column/c_1268247974020747264
- Bilibili：https://www.bilibili.com/read/readlist/rl199373
- 邮件列表及其订阅方式：https://gitee.com/openarkcompiler/OpenArkCompiler/issues/I1EWAX

## MLIR

### Buddy Compiler

- Buddy Compiler 主页地址 - https://buddy-compiler.github.io/
- Buddy Compiler As A Service 地址 - https://buddy.isrc.ac.cn/
- Buddy Compiler LLaMA2 7B 端到端推理
    - 代码部分: https://github.com/buddy-compiler/buddy-mlir/tree/main/examples/BuddyLlama
    - 知乎文章: https://zhuanlan.zhihu.com/p/665429695

**buddy-mlir**

代码仓库：https://github.com/buddy-compiler/buddy-mlir

- [Gemmini Dialect] Add gemmini hardware config.
- [llvm] bump llvm to commit 6c59f0e1b0fb56c909ad7c9aad4bde37dc006ae0
- Sync ToyDSL examples to new LLVM dependency.
- Update LLaMA end-to-end example.
- [frontend] Replace `is_inference` with `torch.no_grad`


## CAAT

## coreboot for riscv

本期没有新的进展。

## openocd

本期没有新的进展。

## opensbi

- 移除lr/sc实现的xchg/cmpxchg。因为\_\_riscv_atomic宏未定义时，lr/sc不可用。[1](https://lists.infradead.org/pipermail/opensbi/2023-November/005792.html)
- 在初始化时禁用IR/CY，因为在一些平台下可能有一些相关的寄存器未初始化。[1](https://lists.infradead.org/pipermail/opensbi/2023-November/005816.html)
- 改进原子相关的位操作，修正返回值为操作之前的值，并简化代码。[1](https://lists.infradead.org/pipermail/opensbi/2023-November/005852.html)
- 修正堆默认大小，以放下tlb fifo（从固定大小改为核心数）。[1](https://lists.infradead.org/pipermail/opensbi/2023-November/005925.html)
- 修正sbi\_pmu\_ctr\_start中位扫描时可能溢出的问题。[1](https://lists.infradead.org/pipermail/opensbi/2023-November/005927.html)
- 修正sbi\_hart\_map\_saddr中pmp粒度的问题，最小大小不应该小于芯片的限制。[1](https://lists.infradead.org/pipermail/opensbi/2023-November/005933.html)
- 修正ipi收发时指令重排的问题。[1](https://lists.infradead.org/pipermail/opensbi/2023-November/005940.html)
- 修正ipi发送时可能会使接收核心多进入一次中断的问题。[1](https://lists.infradead.org/pipermail/opensbi/2023-November/005965.html)
- 改进sbi\_hsm\_hart\_interruptible\_mask加快比特位扫描的速度。[1](https://lists.infradead.org/pipermail/opensbi/2023-November/006004.html)
- 通过hsm重启时跳过等待冷启动的核心。[1](https://lists.infradead.org/pipermail/opensbi/2023-November/006014.html)
- 添加SEE扩展支持。[1](https://lists.infradead.org/pipermail/opensbi/2023-November/006015.html)

## u-boot

本期没有新的进展。

## Aya Theorem Prover

[Watch Aya Prover](https://github.com/aya-prover/aya-dev)

+ [v0.30](https://github.com/aya-prover/aya-dev/milestone/22) Some doc related changes [PR-1019](https://github.com/aya-prover/aya-dev/pull/1019) opened by [ice1000](https://api.github.com/users/ice1000)
+ [v0.30](https://github.com/aya-prover/aya-dev/milestone/22) Do not unify in case of errors [PR-1018](https://github.com/aya-prover/aya-dev/pull/1018) opened by [ice1000](https://api.github.com/users/ice1000)        
+ [v0.30](https://github.com/aya-prover/aya-dev/milestone/22) Do ReplaceWith [PR-1017](https://github.com/aya-prover/aya-dev/pull/1017) opened by [HoshinoTented](https://api.github.com/users/HoshinoTented)
+ [v0.30](https://github.com/aya-prover/aya-dev/milestone/22) Freeze holes in context [PR-1014](https://github.com/aya-prover/aya-dev/pull/1014) opened by [ice1000](https://api.github.com/users/ice1000)
+ [v0.30](https://github.com/aya-prover/aya-dev/milestone/22) Simplify things [PR-1012](https://github.com/aya-prover/aya-dev/pull/1012) opened by [ice1000](https://api.github.com/users/ice1000)
+ [v0.30](https://github.com/aya-prover/aya-dev/milestone/22) Misc: Remove `isProp` [PR-1011](https://github.com/aya-prover/aya-dev/pull/1011) opened by [HoshinoTented](https://api.github.com/users/HoshinoTented)     
+ [v0.30](https://github.com/aya-prover/aya-dev/milestone/22) Dependencies [PR-1009](https://github.com/aya-prover/aya-dev/pull/1009) opened by [ice1000](https://api.github.com/users/ice1000)
+ [v0.30](https://github.com/aya-prover/aya-dev/milestone/22) Some cli fixes [PR-1008](https://github.com/aya-prover/aya-dev/pull/1008) opened by [ice1000](https://api.github.com/users/ice1000)

## eBPF

bpftime 在 11 月中旬登上了 Hacknews 首页：https://news.ycombinator.com/item?id=38268958

- 在 Linux Plumbers 23 上面做的报告 bpftime: Fast uprobes with user space BPF runtime https://lpc.events/event/17/contributions/1639
- arxiv draft: https://arxiv.org/abs/2311.07923
- 进行了一系列细节的 Bug 修复和完善 feature

Wasm-bpf 在 Kubecon North American 做了一次报告：

- eBPF + Wasm: Lightweight Observability on Steroids - Michael Yuan, WasmEdge & Yusheng Zheng, eunomia-bpf https://sched.co/1R2uf

## Benchmarking

## Arch Linux

Porting Progress:

```
[core] 256 / 263 (97.34%)
[extra] 12969 / 13480 (96.21%)
```

Upstreamed Works:

- [log4cpp](https://sourceforge.net/p/log4cpp/bugs/157/)
- [RadeonOpenCompute/rocminfo: use `-m64` only in amd64](https://github.com/RadeonOpenCompute/rocminfo/pull/63)
- [[rocm-device-libs] Change arch to 'any'](https://gitlab.archlinux.org/archlinux/packaging/packages/rocm-device-libs/-/merge_requests/1)
- [[python-pytoolconfig] Add missing checkdepends 'python-platformdirs'](https://gitlab.archlinux.org/archlinux/packaging/packages/python-pytoolconfig/-/merge_requests/1)
- [[python-pyfakefs] Drop python-tox for check()](https://gitlab.archlinux.org/archlinux/packaging/packages/python-pyfakefs/-/merge_requests/1)
- AMD CLR - Compute Language Runtimes [rocvirtual: use SIMD memcpy only on x86](https://github.com/ROCm-Developer-Tools/clr/pull/35)
- ROCR-Runtime [Add RISC-V support](https://github.com/RadeonOpenCompute/ROCR-Runtime/pull/172)
- [napi-rs/cli: backport riscv64 support to stable version](https://github.com/napi-rs/napi-rs/pull/1826)
- [deps: V8: cherry-pick 13192d6e10fa by kxxt · Pull Request #50552 · nodejs/node · GitHub](https://github.com/nodejs/node/pull/50552)
- [deps: V8: cherry-pick 70caf337c3f6 by kxxt · Pull Request #50506 · nodejs/node · GitHub](https://github.com/nodejs/node/pull/50506)
- [LANG-1717: support RISC-V in ArchUtils by kxxt · Pull Request #1128 · apache/commons-lang · GitHub](https://github.com/apache/commons-lang/pull/1128)
- [pydantic-settings: Fix documentation](https://github.com/pydantic/pydantic-settings/pull/194)
- [pdal: Fix convention error with xmlErrorPtr caused by libxml2 API change](https://github.com/PDAL/PDAL/pull/4257)
- [clamav-rs: Fix char signedness problem with var virname](https://github.com/kpcyrd/clamav-rs/pull/1)
- [mirro-rs: remove flaky parsing and get lastsync timestamp directly from url](https://github.com/rtkay123/mirro-rs/pull/29)
- [svelte-language-server: fix flaky test for slow machines](https://github.com/sveltejs/language-tools/pull/2205)
- [vue-language-server: increate timeout for riscv64](https://github.com/vuejs/language-tools/pull/3721)
- [nomad-driver-lxc: update nomad to v1.6.3](https://github.com/hashicorp/nomad-driver-lxc/pull/44)

## RevyOS (Debian)

- [月报仓库](https://github.com/revyos/Newsletter)维持月度更新
- chromium浏览器支持观看1080p视频，[运行示例](https://x.com/SipeedIO/status/1727982160240672991?s=20)
- 对[ruyisdk/revyos](https://github.com/ruyisdk/revyos/commit/9d7f5d3505587c148d4fa405126f6e209a694741)及[revyos/revyos](https://github.com/revyos/revyos/commit/20bf5e2b901b89c41e0692dba0dda308fe12ad69)的内容结构进行了优化，新增了文档
- 对外进行了[月报宣传](https://www.reddit.com/r/RISCV/comments/18858zj/revyos_newsletter_2023121_002/)
- 验证 vf2 基于 upstream  kernel+ Debian sid image 并交付一台加入 debci workers
- 继续推进 Chromium/qt6-webengine Debian patch 的合入, 并积极协助推动 Chromium upstream support riscv64 ;
- 往 Debian 仓库里提交1个新包.
- 对RevyOS docs的内容进行了更新
- 增加了[Gstream pipeline文档](https://github.com/revyos/revyos/blob/main/Adaptation/GStreamer-pipeline-example-with-thead-omxil-lib.md [GStreamer pipeline example with thead omxil lib])

## Debian

11月份的工作聚焦以下内容：

1.验证 vf2 基于 upstream  kernel+ Debian sid image 并交付一台加入 debci workers；
2.继续推进 Chromium/qt6-webengine Debian patch 的合入, 并积极协助推动 Chromium upstream support riscv64 ;
3.往 Debian 仓库里提交1个新包.

以下是产出链接：

- https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=1051998#57 [chromium 119.0.6045.123-1]
- https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=1051998#62 [chromium 119.0.6045.159-1]
- https://github.com/Sysinternals/ProcDump-for-Linux/issues/216 [procdump support riscv64 done]
- https://tracker.debian.org/news/1476768/accepted-python-sparse-0140-1-source-into-unstable/ [python-sparse ftbfs done]
- https://bugzilla.mozilla.org/show_bug.cgi?id=1865601 [firefixe allow gles backend in riscv64]
- https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=1056316 [ff allow gles on Debian]
- https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=1030895#71 [qt6-webengine refactor patchset]
- https://salsa.debian.org/js-team/nodejs/-/merge_requests/19 [nodejs MR done]
- https://salsa.debian.org/js-team/nodejs/-/merge_requests/17 [nodejs MR done]
- https://salsa.debian.org/js-team/nodejs/-/merge_requests/16 [nodejs MR done]
- https://github.com/yuzibo/vf2-linux/tree/vf2-6.6.2-v1 [vf2 upstream kernel]
- https://github.com/yuzibo/debian-riscv/tree/main/vf2 [vf2 install debian sid]
- https://github.com/yuzibo/vf2-debian-image [vf2 prebuilt debian sid image]
- https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=1054998 [strace ftbfs done]
- https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=1057090 [rspamd support libunwind for rv64]
- https://tracker.debian.org/news/1479436/accepted-riscemu-225-1-source-all-into-unstable/ [riscemu got upload]
- https://salsa.debian.org/python-team/packages/xdoctest/-/blob/debian/main/debian/changelog [update new upstream release]

## Gentoo

## Nixpkgs
- starfive visionfive2: update kernel to 6.6.0 https://github.com/NixOS/nixos-hardware/pull/781
- starfive visionfive2: update u-boot to SDK version v3.8.2 https://github.com/NixOS/nixos-hardware/pull/782
- wolfssl: fix condition for ASM SP Math support https://github.com/NixOS/nixpkgs/pull/265972
- firefox: fix cross compilation https://github.com/NixOS/nixpkgs/pull/270539
- glslang: fix build on riscv https://github.com/NixOS/nixpkgs/pull/270542
- gtkmm4: fix cross compilation https://github.com/NixOS/nixpkgs/pull/270543
- kmscon: set strictDeps, fix cross compilation https://github.com/NixOS/nixpkgs/pull/270549
- fbvnc: cleanup, fix cross compilation https://github.com/NixOS/nixpkgs/pull/270554
- bibutils: fix cross compilation https://github.com/NixOS/nixpkgs/pull/270556
- xmlstarlet: add autoreconfHook, fix cross compilation https://github.com/NixOS/nixpkgs/pull/270559

## openEuler

1. 完成软件所第三方 23.09 镜像发布和各种硬件适配和镜像生成 @all @jchzhou
	- https://mirror.iscas.ac.cn/openeuler-sig-riscv/openEuler-RISC-V/preview/openEuler-23.09-V1-riscv64/

2. 向 openEuler 提供软件包修复PR 28个 @Jingwiw +6 @jchzhou +1 @misaka00251 +9 @laokz +5 @wangliu-iscas +4 @zhangtianyu +3

	<details>
	<summary>merge/review</summary>

	- https://gitee.com/openeuler/community/pulls/5309
	- https://gitee.com/src-openeuler/firefox/pulls/123
	- https://gitee.com/src-openeuler/libuv/pulls/60
	- https://gitee.com/src-openeuler/libvpx/pulls/22
	- https://gitee.com/src-openeuler/nss/pulls/114
	- https://gitee.com/src-openeuler/mesa/pulls/42
	- https://gitee.com/openeuler/openeuler-os-build/pulls/200
	- https://gitee.com/src-openeuler/kdevelop/pulls/4
	- https://gitee.com/src-openeuler/plasma-nm/pulls/2
	- https://gitee.com/src-openeuler/plasma-milou/pulls/2
	- https://gitee.com/src-openeuler/k3b/pulls/1
	- https://gitee.com/openeuler/community/pulls/5199
	- https://gitee.com/src-openeuler/NetworkManager-fortisslvpn/pulls/2
	- https://gitee.com/src-openeuler/kf5-libkcddb/pulls/1
	- https://gitee.com/src-openeuler/digikam/pulls/1
	- https://gitee.com/openeuler/community/pulls/5260
	- https://gitee.com/src-openeuler/apache-commons-math/pulls/7
	- https://gitee.com/src-openeuler/wildfly-elytron/pulls/19
	- https://gitee.com/src-openeuler/glassfish-hk2/pulls/15
	- https://gitee.com/src-openeuler/lz4-java/pulls/11
	- https://gitee.com/src-openeuler/libdwarf/pulls/50
	- https://gitee.com/src-openeuler/ffmpeg/pulls/21
	- https://gitee.com/src-openeuler/weechat/pulls/4
	- https://gitee.com/src-openeuler/tengine/pulls/2
	- https://gitee.com/src-openeuler/ledmon/pulls/4
	- https://gitee.com/src-openeuler/turtlebot3_simulations/pulls/4
	- https://gitee.com/src-openeuler/grbl_ros/pulls/4
	- https://gitee.com/src-openeuler/visp/pulls/4

	</details>

3. 筹备 openEuler summit2023，邀请了上交大，赛昉和矽速参与会议 @Jingwiw
	- https://etherpad.openeuler.org/p/sig-RISC-V-summit2023

4. TH1520 GPU 适配完成 @misaka00251
	- https://build.tarsier-infra.com/project/show/Factory:RISC-V:TH1520

5. ROS2 完成了初步的软件验证和测试报告 @zhangtianyu
    - https://gitee.com/zhtianyu/ros-humble-work/tree/master/ros-humble-test/ROS-humble-oerv23.09-lpi4a

6. 向上游提交了 ffmpeg rvv 优化 @hleft

	<details>
	<summary>merge/review</summary>

    - https://git.ffmpeg.org/gitweb/ffmpeg.git/commit/afb967b81e4169e9e563f6342f4f9f636627de5b
    - https://git.ffmpeg.org/gitweb/ffmpeg.git/commit/ea6817d2a7561e758cd6a28903044efa8217cf69
    - https://patchwork.ffmpeg.org/project/ffmpeg/patch/CAEa-L+uKuW31MEJE=o-DJ58kxPjoWENpJjKdEVfyuPTr-t8=bw@mail.gmail.com/
    - https://patchwork.ffmpeg.org/project/ffmpeg/patch/CAEa-L+vZk01QWX1ZCLx0EpbnpfNWVWL6m2O+Rw0QB7vRXgpzqg@mail.gmail.com/
    - https://patchwork.ffmpeg.org/project/ffmpeg/patch/CAEa-L+uf8srmXrhv4deJ5EV3Qg7ejBwSnqTSPoR09X-wx9dTWQ@mail.gmail.com/
    - https://patchwork.ffmpeg.org/project/ffmpeg/patch/CAEa-L+vFZXnEjwu-dCnNZ3H+N-Gwvi7e=Z22CgxbZ5GwoUzyYQ@mail.gmail.com/

    </details>

7. 研究内核热补丁制作工具 @laokz
   - https://gitee.com/laokz/klpmake

8. 面试了十二个实习生，并且制作了实习生指南作为实习生管理的参考 @Jingwiw @misaka00251 @jchzhou @wangyangdahai
	- https://github.com/openEuler-RISCV/oerv-team/blob/main/Intern/guide.md


## Fedora

(可以根据每个人的产出分开，按照人名增加三级缩进，也可以由 leader/mentor 汇总后统一PR)

## openKylin

## openAnolis

## RT-Thread

## 第3测试小队

### 1. 测试策略

- [RuyiSDK v0.2版本测试策略和测试方法](https://gitee.com/yunxiangluo/monthly/blob/master/202311/RuyiSDK%20v0.2%E7%89%88%E6%9C%AC%E6%B5%8B%E8%AF%95%E7%AD%96%E7%95%A5%E5%92%8C%E6%B5%8B%E8%AF%95%E6%96%B9%E6%B3%95.pptx)

### 2. 测试

#### 2.1 RuyiSDK测试开发和测试

- [RUYI 包管理 20231030 版本测试结果](https://gitee.com/yunxiangluo/ruyi-sdk-v0.2-test/blob/master/pre_round1/RUYI%20%E5%8C%85%E7%AE%A1%E7%90%86%2020231030%20%E7%89%88%E6%9C%AC%E6%B5%8B%E8%AF%95%E7%BB%93%E6%9E%9C.md)

- [RUYI 包管理 20231107 版本测试结果](https://gitee.com/yunxiangluo/ruyi-sdk-v0.2-test/blob/master/pre_round2/RUYI%20%E5%8C%85%E7%AE%A1%E7%90%86%2020231107%20%E7%89%88%E6%9C%AC%E6%B5%8B%E8%AF%95%E7%BB%93%E6%9E%9C.md)

- [RUYI 包管理 20231126 版本测试结果](https://gitee.com/yunxiangluo/ruyi-sdk-v0.2-test/blob/master/pre_round3/RUYI%20%E5%8C%85%E7%AE%A1%E7%90%86%2020231126%20%E7%89%88%E6%9C%AC%E6%B5%8B%E8%AF%95%E7%BB%93%E6%9E%9C.md)

- 构建ruyiSDK文档 [ruyidocs](https://github.com/ruyisdk/doc4test/tree/main/docs)

- 编写 mugen 用例并发布在 [mugen-ruyi](https://gitee.com/weilinfox/mugen-ruyi) 仓库，现有测试用例 6 个，覆盖 RUYI 20231126 版本

- 搭建 [Jenkins CI](https://jenkins.inuyasha.love/) ，接入并测试 Fedora 38 、 Ubuntu Jammy 、 openEuler 2203 、 openEuler2303 、 openEuler2309 QEMU 测试环境可用，接入并测试 RevyOS 实机测试环境可用， Debian bookworm 构建环境可用

- 建立 RUYI 包管理多版本 mugen 测试 [Jenkins CI 工程](https://jenkins.inuyasha.love/job/ruyi-test/)，编写 Jenkins 流水线并接入 [mugen-ruyi Gitee 仓库](https://gitee.com/weilinfox/mugen-ruyi)，仓库脚本更新时自动触发测试，测试完成后自动备份测试日志

- 建立 ruyi 包管理构建 [Jenkins CI 工程](https://jenkins.inuyasha.love/job/ruyi-auto-build/) ，在 Debian bookworm 构建二进制

- RUYI 包管理在多版本测试时发现无法在 oE 2203 LTS 的低版本 glibc 下运行，经过沟通将 openEuler 2203 和 openEuler2303 移出测试范围

- 维护 RUYI 包管理的使用文档并提交为 [README.md](https://github.com/ruyisdk/doc4test/blob/main/README.md)

- 提出了 doc4test 仓库的文档构建方式 [询问文档构建使用的工具](https://github.com/ruyisdk/doc4test/issues/1) ，答复是这个仓库只作为内部交流用，不做限制

- 根据测试结果提出 issue
  
  | issue 链接                                         | issue 标题                                                                          |
  |:------------------------------------------------:|:--------------------------------------------------------------------------------- |
  | [#4](https://github.com/ruyisdk/ruyi/issues/4)   | 【补充 20231030 版本 issue】 ruyi install 依赖 wget 但是该软件包在 oE 2309 未预装， ruyi 本身则没有发现安装失败 |
  | [#5](https://github.com/ruyisdk/ruyi/issues/5)   | 【补充 20231107 版本 issue】 ruyi 在 openEuler 2203 无法运行                                 |
  | [#6](https://github.com/ruyisdk/ruyi/issues/6)   | 主线版本 list 命令无法使用                                                                  |
  | [#7](https://github.com/ruyisdk/ruyi/issues/7)   | 构建CI                                                                              |
  | [#8](https://github.com/ruyisdk/ruyi/issues/8)   | 添加 CI                                                                             |
  | [#9](https://github.com/ruyisdk/ruyi/issues/9)   | Jenkins CI 使用 scripts 目录下的脚本构建 riscv64 二进制失败                                      |
  | [#11](https://github.com/ruyisdk/ruyi/issues/9)  | ruyi update 在未预装 git 的系统上无法运行                                                     |
  | [#13](https://github.com/ruyisdk/ruyi/issues/13) | ruyi admin 命令使用方法及测试通过标准                                                          |
  | [#14](https://github.com/ruyisdk/ruyi/issues/14) | XDG_CACHE_HOME 环境变量非空的情形下 progcache 不随该变量变化                                       |
  | [#15](https://github.com/ruyisdk/ruyi/issues/15) | ruyi list 不过滤本机架构不支持的软件包                                                          |
  | [#16](https://github.com/ruyisdk/ruyi/issues/16) | 优化 ruyi venv 在硬盘空间不足时的输出                                                          |

#### 2.2 openEuler 23.09 独立发版测试

- [QEMU测试报告](https://gitee.com/yunxiangluo/openEuler-RISC-V-23.09-independent/blob/master/QEMU/README.md)

- [QEMU安装文档](https://gitee.com/yunxiangluo/openEuler-RISC-V-23.09-independent/blob/master/QEMU/Installation_Handbook)

- [Unmatched安装文档](https://gitee.com/yunxiangluo/openEuler-RISC-V-23.09-independent/blob/master/Unmatched/Installation_Handbook.md)

- [VisionFive2测试报告](https://gitee.com/yunxiangluo/openEuler-RISC-V-23.09-independent/tree/master/VF2/succeeded_case)

- [VisionFive2安装文档](https://gitee.com/yunxiangluo/openEuler-RISC-V-23.09-independent/blob/master/VisionFive2/Installation_Handbook.md)

- [VisionFive测试报告](https://gitee.com/yunxiangluo/openEuler-RISC-V-23.09-independent/tree/master/VisionFive/succeeded_case)

- [VisionFive安装文档](https://gitee.com/yunxiangluo/openEuler-RISC-V-23.09-independent/blob/master/VisionFive/Installation_Handbook.md)

- [LicheePi 4A测试报告](https://gitee.com/yunxiangluo/openEuler-RISC-V-23.09-independent/tree/master/lpi4a/succeeded_case)

- [LicheePi 4A安装文档](https://gitee.com/yunxiangluo/openEuler-RISC-V-23.09-independent/blob/master/lpi4a/Install.md)

结论openEuler 23.09 独立发版镜像可以在QEMU、Milkv pioneer box、LicheePi 4A、Unmatched、VisionFive、VisionFive2下成功启动，系统基本功能正常。D1下暂不能使用。

详细测试结果：

- [oefor2309test_1](https://gitlab.inuyasha.love/weilinfox/plct-working/-/blob/master/Done/Month05/Week4/mugen/oefor2309test_1) 部分在 openEuler 2303 和 2309 x86_64 上的测试，得到[日志](https://gitlab.inuyasha.love/weilinfox/plct-working/-/tree/master/Done/Month05/Week4/mugen)

- [oefor2309test_baseos](https://gitlab.inuyasha.love/weilinfox/plct-working/-/blob/master/Done/Month05/Week5/oefor2309test_baseos) 和 [oefor2309test_nobaseos](https://gitlab.inuyasha.love/weilinfox/plct-working/-/blob/master/Done/Month05/Week5/oefor2309test_nobaseos) 在 oErv 2309 

| ID/Link                                                    | 缺陷名称                                                                    | 状态            |
| ---------------------------------------------------------- | ----------------------------------------------------------------------- | ------------- |
| [I8J7XE](https://gitee.com/openeuler/RISC-V/issues/I8J7XE) | openEuler 23.09 RISC-V Lichee Pi 4A testing 镜像默认未安装 NetworkManager-wifi | Closed, fixed |
| [I8IFPN](https://gitee.com/openeuler/RISC-V/issues/I8IFPN) | Lichee Pi 4A 在 Docker 内运行 Java 17/19 时崩溃                                | Open          |

#### 2.3 openEuler 23.09 和 24.03 测试准备

- 独立发版 20231128 v0.2 版本上的测试，产出日志、报告和安装文档 pr [!2](https://gitee.com/yunxiangluo/openEuler-RISC-V-23.09-independent/pulls/2) [!5](https://gitee.com/yunxiangluo/openEuler-RISC-V-23.09-independent/pulls/5)，用于验证mugen x86下所有测试套和测试用例在RISC-V版本下的可用性。

- 根据上周openEuler RISC-V 23.09 baseOS RC8测试分析结果，编写了测试文档[PR](https://gitee.com/yunxiangluo/open-euler-risc-v-23.09-test/pulls/105)

- 对OpenEuler 2303 RISCV进行了[test1](https://github.com/Pagerd/PLCT/blob/main/Report/Nov/week21/oefor2309test_2)范围的测试，得到部分测试结果并与之前进行的测试结果进行了简单的比对[Result](https://github.com/Pagerd/PLCT/blob/main/Report/Nov/week21/2303ResultReport.md)

#### 2.4 RuyiSDK相关工具测试

- 测试 Node.js，产出 [测试报告](https://github.com/KevinMX/PLCT-Tarsier-Works/tree/main/misc/month7/node/report_oe2309)

#### 2.5 AO空间辅助测试

- 测试 OpenJDK on openEuler RISC-V on Docker。- Issue [I8IFPN](https://gitee.com/openeuler/RISC-V/issues/I8IFPN)

### 3. 测试工具开发

#### 1.3.1 mugen

- 分配任务为未来24.03合入的mugen测试做相关准备，[commit](https://github.com/KotorinMinami/plct-working/commit/d3a0b674cc0a5eaba38ea92c14d2ce58bd135aef)

- 为未来24.03合入做mugen测试，以同步目前mugen测试例可用情况，[commit](https://github.com/KotorinMinami/plct-working/commit/2c3baef729ee318e23288f0a226c693f9b64e05f)

- 建立 x86 mugen 多版本测试 [Jenkins CI 工程](https://jenkins.inuyasha.love/job/mugen-case-x86/)，验证了 mugen 测试用例并没有随着软件包更新而积极维护的问题，为向上游提交 issue 收集必要的日志

- 在软件所 x86 服务器建立预计用于 mugen 自动化测试的 lxc 容器并接入 [Jenkins CI](https://jenkins.inuyasha.love/computer/archlinux%2Dmugen%2Dlxc0/) ，调研 libvirtd 使用的 dnsmasq 网桥是否符合 firewalld/oe_test_firewalld_dnat 特殊用例的测试需求

- 向 libvirt 上游咨询关于 libvirt 在 lxc 非特权容器内嵌套虚拟化非预期行为的解决方式 [issue 556](https://gitlab.com/libvirt/libvirt/-/issues/556) ，已经验证并解决该问题

- 2309 独立发版测试需要重测验证的用例数高达 1674 个，手动重测已经不可能，尝试编写新的测试工具 [mugen-libvirt](https://gitee.com/weilinfox/mugen-libvirt)

- 向 openeuler/mugen 上游提交 issue

| 编号                                                        | 标题                                                                                                        |
|:---------------------------------------------------------:|:--------------------------------------------------------------------------------------------------------- |
| [I8FN7E](https://gitee.com/openeuler/mugen/issues/I8FN7E) | openssl 测试套一些用例无法在 openEuler 2309 x86_64 QEMU 测试通过                                                        |
| [I8FNJD](https://gitee.com/openeuler/mugen/issues/I8FNJD) | os-basic 测试套 oe_test_dmraid 用例无法在 openEuler 2203 2309 x86_64 QEMU 测试通过                                    |
| [I8FNJQ](https://gitee.com/openeuler/mugen/issues/I8FNJQ) | mc 测试套 oe_test_mc_base_01 用例无法在 openEuler 2203 2309 x86_64 QEMU 测试通过                                      |
| [I8FOEN](https://gitee.com/openeuler/mugen/issues/I8FOEN) | os-basic 测试套 oe_test_gcc_01 用例无法在 openEuler 2309 x86_64 QEMU 测试通过                                         |
| [I8FOHC](https://gitee.com/openeuler/mugen/issues/I8FOHC) | gsl 测试套 oe_test_gsl_histogram_01 用例无法在 openEuler 2309 x86_64 QEMU 测试通过                                    |
| [I8FTGN](https://gitee.com/openeuler/mugen/issues/I8FTGN) | iptables 测试套 oe_test_ip6tables-restore_01, oe_test_iptables-restore 用例无法在 openEuler 2309 x86_64 QEMU 测试通过 |
| [I8FTHB](https://gitee.com/openeuler/mugen/issues/I8FTHB) | iptables 测试套 oe_test_ip6tables-save 无法在 openEuler 2203 2309 x86_64 QEMU 测试通过                              |
| [I8FTRV](https://gitee.com/openeuler/mugen/issues/I8FTRV) | os-basic 测试套一些测试用例依赖特定的软件包但是没有使用 DNF_INSTALL 显式安装                                                         |
| [I8FTGC](https://gitee.com/openeuler/mugen/issues/I8FTGC) | clang 测试套 oe_test_clang_02 用例无法在 openEuler 2309 x86_64 QEMU 测试通过                                          |
| [I8FOQE](https://gitee.com/openeuler/mugen/issues/I8FOQE) | kernel 测试套 oe_test_io_sched 用例硬编码 /sys/block/sda 导致测试不适配 QEMU 环境                                          |
| [I8FOKL](https://gitee.com/openeuler/mugen/issues/I8FOKL) | rsyslog 测试套一些用例需要 NODE2 但 rsyslog.json 中缺少相关声明                                                            |
| [I8FOOC](https://gitee.com/openeuler/mugen/issues/I8FOOC) | lvm2 测试套 oe_test_lvm2_pvdisplay_001 用例需要额外的磁盘参与测试但 lvm2.json 中缺少相关声明                                      |
| [I89X70](https://gitee.com/openeuler/mugen/issues/I89X70) | initscripts 测试套 oe_test_service_network 用例缺陷修复                                                            |
| [I8FNQN](https://gitee.com/openeuler/mugen/issues/I8FNQN) | kernel 测试套 oe_test_swap_compress 用例无法在 openEuler 2203 2309 x86_64 QEMU 测试通过                               |
| [I8FO45](https://gitee.com/openeuler/mugen/issues/I8FO45) | mugen 在 openEuler 2309 从 systemctl disable 获取的 .service 文件名不正确                                            |
| [I8FO8B](https://gitee.com/openeuler/mugen/issues/I8FO8B) | libosinfo 测试套 oe_test_osinfo-db-import 用例无法在 openEuler 2203 2309 x86_64 QEMU 测试通过                         |
| [I8FOO8](https://gitee.com/openeuler/mugen/issues/I8FOO8) | mugen get_test_disk 函数将 /dev/sr0 光驱设备作为可用的测试磁盘返回                                                          |
| [I8FTKZ](https://gitee.com/openeuler/mugen/issues/I8FTKZ) | os-basic 测试套 oe_test_system_log_recorded 用例脚本缺陷                                                           |
| [I8FNYC](https://gitee.com/openeuler/mugen/issues/I8FNYC) | kmod 测试套 oe_test_insmod-lsmod 用例无法在 openEuler 2203 2309 x86_64 QEMU 测试通过                                  |
| [I8FPEI](https://gitee.com/openeuler/mugen/issues/I8FPEI) | os-basic 测试套 oe_test_uname, oe_test_awk, oe_test_system_log_dmesg 用例在 openEuler 2309 RISC-V 测试失败          |
| [I8H7M3](https://gitee.com/openeuler/mugen/issues/I8H7M3) | 一些测试用例依赖未显式安装且未预装的软件包进行测试                                                                                 |
| [I8H8D0](https://gitee.com/openeuler/mugen/issues/I8H8D0) | ipmitool  测试套 oe_test_service_ipmievd 用例无法在 openEuler 2203 2309 x86_64 QEMU 测试通过                          |
| [I8H8P1](https://gitee.com/openeuler/QA/issues/I8H8P1)    | 在 openEuler 2309 RISC-V 的 mugen 测试中发现的测试用例本身问题请求用例修复                                                      |

#### 1.3.2 openQA (for RuyiSDK)

- 补充 ruyiSDK openQA 测试代码 [commit](https://gitee.com/yan-mingzhu/os-autoinst-distri-openeuler/commit/dcfed1aefe69646297e1aa76cdca96ffd8f1ac34)，完成 ruyiSDK 在虚拟机环境下的测试

- 为 ruyi 添加 CI，从源代码 和 release 分别进行自动化测试 [PR](https://github.com/ruyisdk/ruyi/pull/8) [测试结果](https://github.com/trdthg/ruyi/actions/runs/6995331160/job/19030050992)

- 测试 openQA 真机。目前可以通过 vnc 连接到其他已启动的 X86 linux 真机 [截图](https://github.com/trdthg/plct/blob/main/outcome/202311_week2/shortcut.png), [日志](https://github.com/trdthg/plct/blob/main/outcome/202311_week2/autoinst-log.txt), 但是连接并不稳定，搭建 fedora, openeuler x86 虚拟机环境，安装 vnc, 运行 openQA 真机测试，[截图](https://github.com/trdthg/plct/blob/main/outcome/202311_week3/vnc-nixos.png)，未成功获取画面

#### 1.3.3 基础测试脚本

- 修正 [自动化测试脚本](https://github.com/KevinMX/PLCT-Tarsier-Works/tree/main/misc/month6/scripts)。

#### 1.3.4 Sail

- 调研sail-riscv仓库，并成功与本地编译出sail-riscv模拟器，产出调研[报告](https://github.com/KotorinMinami/plct-working/blob/main/sail-riscv/README.md)

- 翻译官方 sail 手册 [menual](https://github.com/trdthg/plct/blob/main/doc/sail/lang.md)

- 调研RISCOF测试框架，在本地搭建并了解其基本原理后准备技术分享[ppt](https://github.com/KotorinMinami/plct-working/blob/main/sail-riscv/%E5%9F%BA%E4%BA%8ERISCOF%E8%B0%88%E8%B0%88SAIL%E5%AF%B9ISA%E6%B5%8B%E8%AF%95%E7%9A%84%E4%BD%9C%E7%94%A8.pptx)

- 根据技术分享会议以及反馈，学习RISCV ISA与SAIL的对应关系，产出对应[报告](https://github.com/KotorinMinami/plct-working/blob/main/sail-riscv/note01.md)

- 在 docker 环境下编译运行 riscv-sails  [运行结果](./202311_week2/sail_logs/make.log) [操作记录](https://github.com/trdthg/plct/blob/main/outcome/202311_week2/sail_logs/bash_history)

#### 1.3.5 QtRvSim

- [QtRvSim 使用手册和测试报告](https://gitee.com/yunxiangluo/qtrvsim-test/blob/master/README.md)

- QtRvSim developer 部分文档翻译并验证 CI 构建部分，提交 pr [!4](https://gitee.com/yunxiangluo/qtrvsim-test/pulls/4) [!5](https://gitee.com/yunxiangluo/qtrvsim-test/pulls/5) [!6](https://gitee.com/yunxiangluo/qtrvsim-test/pulls/6)

- QtRVSim quickstart [PR](https://gitee.com/yunxiangluo/qtrvsim-test/pulls/3)

- QtRvSim 命令行界面使用说明文档，提交 pr [!8](https://gitee.com/yunxiangluo/qtrvsim-test/pulls/8)

- QtRVSim GUI [PR](https://gitee.com/yunxiangluo/qtrvsim-test/pulls/9)

- 调研学习qtrvsim框架，经本地编译调试理解其大致模拟器框架，为后续开发铺平道路，产出对应[报告](https://github.com/KotorinMinami/plct-working/blob/main/qtrvsim/note1.md)

- 协助调查 qtrvsim 编译失败 ubuntu 缺少 QT 库原因 [截图](https://github.com/trdthg/plct/blob/main/outcome/202311_week4/compile_success.jpg)

### 4. 测试技术分享

- 技术分享《RuyiSDK测试策略和测试方法》的 mugen 部分。[提纲与 ppt](https://gitlab.inuyasha.love/weilinfox/plct-working/-/tree/master/Note/mugen-ruyi)

- 技术分享《QtRVSim：小白也能上手的 RISC-V 模拟器》GUI，命令行部分《QtRvSim 命令行界面简单使用》。[ppt](https://gitlab.inuyasha.love/weilinfox/plct-working/-/tree/master/Note/qtrvsim_cli-tech)

- 技术分享[关于开放式RISC-V软件资源管理的探索与实践](https://github.com/ArielHeleneto/anrsm)

- 技术分享 [SAIL 语言简介及 ADDI 指令实现](./202311_week4/SAIL%20语言简介及%20ADDI%20指令实现.pptx)

- SIG-QA 会议 & openEuler 社区优秀贡献者评选，测试小队成员郑景坤当选 [etherpad](https://etherpad.openeuler.org/p/sig-QA-meetings)

- LTP 下一代测试执行器 Kirk（先前为 runltp-ng） - [Kirk](https://github.com/KevinMX/PLCT-Tarsier-Works/tree/main/reports/month7/oERV专项测试拾遗：次世代LTP执行器Kirk)

### 5. 测试小队成员

#### 5.1 郑景坤

- 修正 [自动化测试脚本](https://github.com/KevinMX/PLCT-Tarsier-Works/tree/main/misc/month6/scripts)。

- 协助 openEuler 23.09 RISC-V 独立发行版镜像测试（烧写镜像检查是否能够正常启动）。

- 编写 Node.js [测试报告](https://github.com/KevinMX/PLCT-Tarsier-Works/tree/main/misc/month7/node/report_oe2309)。

- 参加 SIG-QA 会议 & openEuler 社区优秀贡献者评选。- [etherpad](https://etherpad.openeuler.org/p/sig-QA-meetings)

- 测试 OpenJDK on openEuler RISC-V on Docker。- Issue [I8IFPN](https://gitee.com/openeuler/RISC-V/issues/I8IFPN)

- 调研 LTP 下一代测试执行器 Kirk（先前为 runltp-ng） - [Kirk](https://github.com/KevinMX/PLCT-Tarsier-Works/tree/main/reports/month7/oERV专项测试拾遗：次世代LTP执行器Kirk)

- 调研 RISC-V SAIL / ACT。

- 准备 RuyiSDK 测试。
  
  - `ruyi update` 在未预装 git 的系统上无法运行（已修复）

- QtRVSim 测试工作：
  
  - quickstart [PR](https://gitee.com/yunxiangluo/qtrvsim-test/pulls/3)
  - GUI [PR](https://gitee.com/yunxiangluo/qtrvsim-test/pulls/9)

- 技术分享：QtRVSim GUI
  openEuler 23.09 独立发版测试

- Firefox & nmtui [测试用例](https://gitee.com/yunxiangluo/openEuler-RISC-V-23.09-independent/pulls/3)

- HiFive Unmatched
  
  - [安装文档](https://gitee.com/KevinMX/openEuler-RISC-V-23.09-independent/blob/master/Unmatched/Installation_Handbook.md)

- VisionFive
  
  - [安装文档](https://gitee.com/KevinMX/openEuler-RISC-V-23.09-independent/blob/master/VisionFive/Installation_Handbook.md)

- VisionFive 2
  
  - [安装文档](https://gitee.com/KevinMX/openEuler-RISC-V-23.09-independent/blob/master/VisionFive2/Installation_Handbook.md)
  - 协助测试 VisionFive 2 无法启动的问题（已解决）
  - 协助排查 VisionFive 2 启动 Firefox 时死机重启的问题（经排查为 SoC 未加散热片过热导致）

- Lichee Pi 4A
  
  - [安装文档更新](https://gitee.com/KevinMX/openEuler-RISC-V-23.09-independent/blob/master/lpi4a/Install.md)
  - 测试新的镜像刷写流程：`fastboot flash ram -> reboot -> flash uboot -> flash boot -> flash root -> power reset`
  - 连接 WiFi 需要先连接有线网络并安装 `NetworkManager-wifi`（已解决）
  - 安装 Xfce 目前需要手动添加 `tarsier-infra` 软件源（已解决：默认已提供 Xfce 镜像，preview 版无此问题）

- D1 Nezha & LicheeRV 测试启动镜像
  
  - 目前状况：bootloop

- 协助测试 Firefox 115 ESR
  
  - 软件包依赖错误：`redhat-indexhtml` -> `openEuler-indexhtml` （已修复）
  - 软件包文件冲突：`libnss3.so` 同时被 `nss-3.94-1` 和 `firefox-115.5.0-1` 提供（已修复）
  - 切换标签页后网页会卡在转圈圈（加载）（已修复）
  - `ffmpeg` 禁用时 `H264` 软解不工作（已修复）
  - `ffmpeg` 启用时 `H264` 软解只能播放一段时间，然后视频卡死（已修复）
  - 硬件编解码目前不工作
  - 经测试目前可在 QEMU / LPi4A / VisionFive / VisionFive 2 启动

- 缺陷报告 / Issues

| ID/Link                                                    | 缺陷名称                                                                    | 状态            |
| ---------------------------------------------------------- | ----------------------------------------------------------------------- | ------------- |
| [I8J7XE](https://gitee.com/openeuler/RISC-V/issues/I8J7XE) | openEuler 23.09 RISC-V Lichee Pi 4A testing 镜像默认未安装 NetworkManager-wifi | Closed, fixed |
| [I8IFPN](https://gitee.com/openeuler/RISC-V/issues/I8IFPN) | 23.03 Lichee Pi 4A 在 Docker 内运行 Java 17/19 时崩溃                          | Open          |
| [#11](https://github.com/ruyisdk/ruyi/issues/11)           | ruyi update 在未预装 git 的系统上无法运行                                           | Closed, fixed |

#### 5.2 蔡玮霖

##### 5.2.1 mugen 测试工作

+ 完成 [oefor2309test_1](https://gitlab.inuyasha.love/weilinfox/plct-working/-/blob/master/Done/Month05/Week4/mugen/oefor2309test_1) 部分在 openEuler 2303 和 2309 x86_64 上的测试，得到[日志](https://gitlab.inuyasha.love/weilinfox/plct-working/-/tree/master/Done/Month05/Week4/mugen)
+ 完成 [oefor2309test_baseos](https://gitlab.inuyasha.love/weilinfox/plct-working/-/blob/master/Done/Month05/Week5/oefor2309test_baseos) 和 [oefor2309test_nobaseos](https://gitlab.inuyasha.love/weilinfox/plct-working/-/blob/master/Done/Month05/Week5/oefor2309test_nobaseos) 在 oErv 2309 独立发版 20231128 v0.2 版本上的测试，产出日志、报告和安装文档 pr [!2](https://gitee.com/yunxiangluo/openEuler-RISC-V-23.09-independent/pulls/2) [!5](https://gitee.com/yunxiangluo/openEuler-RISC-V-23.09-independent/pulls/5)

##### 5.2.2 mugen 测试工具

+ 建立 x86 mugen 多版本测试 [Jenkins CI 工程](https://jenkins.inuyasha.love/job/mugen-case-x86/)，验证了 mugen 测试用例并没有随着软件包更新而积极维护的问题，为向上游提交 issue 收集必要的日志
+ 在软件所 x86 服务器建立预计用于 mugen 自动化测试的 lxc 容器并接入 [Jenkins CI](https://jenkins.inuyasha.love/computer/archlinux%2Dmugen%2Dlxc0/) ，调研 libvirtd 使用的 dnsmasq 网桥是否符合 firewalld/oe_test_firewalld_dnat 特殊用例的测试需求
+ 向 libvirt 上游咨询关于 libvirt 在 lxc 非特权容器内嵌套虚拟化非预期行为的解决方式 [issue 556](https://gitlab.com/libvirt/libvirt/-/issues/556) ，已经验证并解决该问题
+ 2309 独立发版测试需要重测验证的用例数高达 1674 个，手动重测已经不可能，尝试编写新的测试工具 [mugen-libvirt](https://gitee.com/weilinfox/mugen-libvirt)

##### 5.2.3 mugen issue

+ 根据黄烁整理的文档和我以前的报告，在 openEuler 2203 和 openEuler 2309 x86_64 进行重新测试，根据结果向 openeuler/mugen 上游开 issue
  
  | 编号                                                        | 标题                                                                                                        |
  |:---------------------------------------------------------:|:--------------------------------------------------------------------------------------------------------- |
  | [I8FN7E](https://gitee.com/openeuler/mugen/issues/I8FN7E) | openssl 测试套一些用例无法在 openEuler 2309 x86_64 QEMU 测试通过                                                        |
  | [I8FNJD](https://gitee.com/openeuler/mugen/issues/I8FNJD) | os-basic 测试套 oe_test_dmraid 用例无法在 openEuler 2203 2309 x86_64 QEMU 测试通过                                    |
  | [I8FNJQ](https://gitee.com/openeuler/mugen/issues/I8FNJQ) | mc 测试套 oe_test_mc_base_01 用例无法在 openEuler 2203 2309 x86_64 QEMU 测试通过                                      |
  | [I8FOEN](https://gitee.com/openeuler/mugen/issues/I8FOEN) | os-basic 测试套 oe_test_gcc_01 用例无法在 openEuler 2309 x86_64 QEMU 测试通过                                         |
  | [I8FOHC](https://gitee.com/openeuler/mugen/issues/I8FOHC) | gsl 测试套 oe_test_gsl_histogram_01 用例无法在 openEuler 2309 x86_64 QEMU 测试通过                                    |
  | [I8FTGN](https://gitee.com/openeuler/mugen/issues/I8FTGN) | iptables 测试套 oe_test_ip6tables-restore_01, oe_test_iptables-restore 用例无法在 openEuler 2309 x86_64 QEMU 测试通过 |
  | [I8FTHB](https://gitee.com/openeuler/mugen/issues/I8FTHB) | iptables 测试套 oe_test_ip6tables-save 无法在 openEuler 2203 2309 x86_64 QEMU 测试通过                              |
  | [I8FTRV](https://gitee.com/openeuler/mugen/issues/I8FTRV) | os-basic 测试套一些测试用例依赖特定的软件包但是没有使用 DNF_INSTALL 显式安装                                                         |
  | [I8FTGC](https://gitee.com/openeuler/mugen/issues/I8FTGC) | clang 测试套 oe_test_clang_02 用例无法在 openEuler 2309 x86_64 QEMU 测试通过                                          |
  | [I8FOQE](https://gitee.com/openeuler/mugen/issues/I8FOQE) | kernel 测试套 oe_test_io_sched 用例硬编码 /sys/block/sda 导致测试不适配 QEMU 环境                                          |
  | [I8FOKL](https://gitee.com/openeuler/mugen/issues/I8FOKL) | rsyslog 测试套一些用例需要 NODE2 但 rsyslog.json 中缺少相关声明                                                            |
  | [I8FOOC](https://gitee.com/openeuler/mugen/issues/I8FOOC) | lvm2 测试套 oe_test_lvm2_pvdisplay_001 用例需要额外的磁盘参与测试但 lvm2.json 中缺少相关声明                                      |
  | [I89X70](https://gitee.com/openeuler/mugen/issues/I89X70) | initscripts 测试套 oe_test_service_network 用例缺陷修复                                                            |
  | [I8FNQN](https://gitee.com/openeuler/mugen/issues/I8FNQN) | kernel 测试套 oe_test_swap_compress 用例无法在 openEuler 2203 2309 x86_64 QEMU 测试通过                               |
  | [I8FO45](https://gitee.com/openeuler/mugen/issues/I8FO45) | mugen 在 openEuler 2309 从 systemctl disable 获取的 .service 文件名不正确                                            |
  | [I8FO8B](https://gitee.com/openeuler/mugen/issues/I8FO8B) | libosinfo 测试套 oe_test_osinfo-db-import 用例无法在 openEuler 2203 2309 x86_64 QEMU 测试通过                         |
  | [I8FOO8](https://gitee.com/openeuler/mugen/issues/I8FOO8) | mugen get_test_disk 函数将 /dev/sr0 光驱设备作为可用的测试磁盘返回                                                          |
  | [I8FTKZ](https://gitee.com/openeuler/mugen/issues/I8FTKZ) | os-basic 测试套 oe_test_system_log_recorded 用例脚本缺陷                                                           |
  | [I8FNYC](https://gitee.com/openeuler/mugen/issues/I8FNYC) | kmod 测试套 oe_test_insmod-lsmod 用例无法在 openEuler 2203 2309 x86_64 QEMU 测试通过                                  |
  | [I8FPEI](https://gitee.com/openeuler/mugen/issues/I8FPEI) | os-basic 测试套 oe_test_uname, oe_test_awk, oe_test_system_log_dmesg 用例在 openEuler 2309 RISC-V 测试失败          |
  | [I8H7M3](https://gitee.com/openeuler/mugen/issues/I8H7M3) | 一些测试用例依赖未显式安装且未预装的软件包进行测试                                                                                 |
  | [I8H8D0](https://gitee.com/openeuler/mugen/issues/I8H8D0) | ipmitool  测试套 oe_test_service_ipmievd 用例无法在 openEuler 2203 2309 x86_64 QEMU 测试通过                          |

+ [回复](https://gitee.com/openeuler/QA/pulls/589#note_22757387_conversation_93685568) QA 评论填坑，并在 QA 提交了一个 issue I8H8P1 说明情况
  
  | issue 链接                                               | issue 标题                                             |
  |:------------------------------------------------------:|:---------------------------------------------------- |
  | [I8H8P1](https://gitee.com/openeuler/QA/issues/I8H8P1) | 在 openEuler 2309 RISC-V 的 mugen 测试中发现的测试用例本身问题请求用例修复 |

+ 对一些在 x86_64 多次复测可以通过的产生疑问，需要之后的测试进一步验证 [列表](https://gitlab.inuyasha.love/weilinfox/plct-working/-/blob/master/Done/Month05/Week3/emmm.md)

##### 5.2.4 RuyiSDK 测试

+ 编写 mugen 用例并发布在 [mugen-ruyi](https://gitee.com/weilinfox/mugen-ruyi) 仓库，现有测试用例 6 个，覆盖 RUYI 20231126 版本

+ 搭建 [Jenkins CI](https://jenkins.inuyasha.love/) ，接入并测试 Fedora 38 、 Ubuntu Jammy 、 openEuler 2203 、 openEuler2303 、 openEuler2309 QEMU 测试环境可用，接入并测试 RevyOS 实机测试环境可用， Debian bookworm 构建环境可用

+ 建立 RUYI 包管理多版本 mugen 测试 [Jenkins CI 工程](https://jenkins.inuyasha.love/job/ruyi-test/)，编写 Jenkins 流水线并接入 [mugen-ruyi Gitee 仓库](https://gitee.com/weilinfox/mugen-ruyi)，仓库脚本更新时自动触发测试，测试完成后自动备份测试日志

+ 建立 ruyi 包管理构建 [Jenkins CI 工程](https://jenkins.inuyasha.love/job/ruyi-auto-build/) ，在 Debian bookworm 构建二进制

+ RUYI 包管理在多版本测试时发现无法在 oE 2203 LTS 的低版本 glibc 下运行，经过沟通将 openEuler 2203 和 openEuler2303 移出测试范围

+ 维护 RUYI 包管理的使用文档并提交为 [README.md](https://github.com/ruyisdk/doc4test/blob/main/README.md)

+ 提出了 doc4test 仓库的文档构建方式 [询问文档构建使用的工具](https://github.com/ruyisdk/doc4test/issues/1) ，答复是这个仓库只作为内部交流用，所以不做限制

+ 整理 pre_round1 、 pre_round2 和 pre_round3 测试报告并提交 pr [!1](https://gitee.com/yunxiangluo/ruyi-sdk-v0.2-test/pulls/1) [!2](https://gitee.com/yunxiangluo/ruyi-sdk-v0.2-test/pulls/2) [!3](https://gitee.com/yunxiangluo/ruyi-sdk-v0.2-test/pulls/3) [!4](https://gitee.com/yunxiangluo/ruyi-sdk-v0.2-test/pulls/4)

+ 根据测试结果提出 issue
  
  | issue 链接                                         | issue 标题                                                                          |
  |:------------------------------------------------:|:--------------------------------------------------------------------------------- |
  | [#4](https://github.com/ruyisdk/ruyi/issues/4)   | 【补充 20231030 版本 issue】 ruyi install 依赖 wget 但是该软件包在 oE 2309 未预装， ruyi 本身则没有发现安装失败 |
  | [#5](https://github.com/ruyisdk/ruyi/issues/5)   | 【补充 20231107 版本 issue】 ruyi 在 openEuler 2203 无法运行                                 |
  | [#6](https://github.com/ruyisdk/ruyi/issues/6)   | 主线版本 list 命令无法使用                                                                  |
  | [#9](https://github.com/ruyisdk/ruyi/issues/9)   | Jenkins CI 使用 scripts 目录下的脚本构建 riscv64 二进制失败                                      |
  | [#13](https://github.com/ruyisdk/ruyi/issues/13) | ruyi admin 命令使用方法及测试通过标准                                                          |
  | [#14](https://github.com/ruyisdk/ruyi/issues/14) | XDG_CACHE_HOME 环境变量非空的情形下 progcache 不随该变量变化                                       |
  | [#15](https://github.com/ruyisdk/ruyi/issues/15) | ruyi list 不过滤本机架构不支持的软件包                                                          |

##### 5.2.5 QtRvSim

+ 完成 QtRvSim developer 部分文档翻译并验证 CI 构建部分，提交 pr [!4](https://gitee.com/yunxiangluo/qtrvsim-test/pulls/4) [!5](https://gitee.com/yunxiangluo/qtrvsim-test/pulls/5) [!6](https://gitee.com/yunxiangluo/qtrvsim-test/pulls/6)
+ 完成 QtRvSim 命令行界面使用说明文档，提交 pr [!8](https://gitee.com/yunxiangluo/qtrvsim-test/pulls/8)

##### 5.2.6 其他工作

+ 11 月 13 日做了技术分享《RuyiSDK测试策略和测试方法》的 mugen 部分。[提纲与 ppt](https://gitlab.inuyasha.love/weilinfox/plct-working/-/tree/master/Note/mugen-ruyi)
+ 11 月 22 日做了技术分享《QtRVSim：小白也能上手的 RISC-V 模拟器》的命令行部分《QtRvSim 命令行界面简单使用》。[ppt](https://gitlab.inuyasha.love/weilinfox/plct-working/-/tree/master/Note/qtrvsim_cli-tech)

##### 5.2.7 学习

+ 验证老 [rvv-atg](https://github.com/B1ACK917/rvv-atg) 一切正常； [rvv-atg](https://github.com/hushenwei2000/rvv-atg) 没有出 second 脚本， riscvof 插件异常
  学习 [sail-riscv](https://github.com/riscv/sail-riscv/) 主仓库
+ 学习 riscvof 插件和 sail 本身
+ RISC-V 指令集学习 [LFD210](https://training.linuxfoundation.cn/courses/83)
+ 阅读 RISC-V spec Volume 1, Unprivileged Specification version 20191213 [PDF](https://drive.google.com/file/d/1s0lZxUZaa7eV_O0_WsZzaurFLLww7ou5/view?usp=drive_link)

##### 5.2.8 关联的提交

+ openEuler RISC-V 23.09 独立发布版本测试 yunxiangluo/openEuler-RISC-V-23.09-independent pr [!2](https://gitee.com/yunxiangluo/openEuler-RISC-V-23.09-independent/pulls/2) [!5](https://gitee.com/yunxiangluo/openEuler-RISC-V-23.09-independent/pulls/5)
+ QtRvSim 测试报告 yunxiangluo/qtrvsim-test pr [!4](https://gitee.com/yunxiangluo/qtrvsim-test/pulls/4) [!5](https://gitee.com/yunxiangluo/qtrvsim-test/pulls/5) [!6](https://gitee.com/yunxiangluo/qtrvsim-test/pulls/6) [!8](https://gitee.com/yunxiangluo/qtrvsim-test/pulls/8)
+ ruyiSDK v0.2 Test yunxiangluo/ruyi-sdk-v0.2-test pr [!1](https://gitee.com/yunxiangluo/ruyi-sdk-v0.2-test/pulls/1) [!2](https://gitee.com/yunxiangluo/ruyi-sdk-v0.2-test/pulls/2) [!3](https://gitee.com/yunxiangluo/ruyi-sdk-v0.2-test/pulls/3) [!4](https://gitee.com/yunxiangluo/ruyi-sdk-v0.2-test/pulls/4)
+ doc4test ruyisdk/doc4test commit [45db2c8](https://github.com/ruyisdk/doc4test/commit/45db2c82d82b4c383f19b3750bc2e39f31b3fdc8) [94c2c64](https://github.com/ruyisdk/doc4test/commit/94c2c649ef47501fb535a929d56ccb3b3e9037f7)

#### 5.3 朱旭昌

##### 5.3.1 openEuler测试

- 根据上周RC8测试分析结果，编写了测试文档[PR](https://gitee.com/yunxiangluo/open-euler-risc-v-23.09-test/pulls/105)
- 对OpenEuler 2303 RISCV进行了[test1](https://github.com/Pagerd/PLCT/tree/main/Report/Nov/week21/oefor2309test_2)范围的测试，得到部分测试结果并与之前进行的测试结果进行了简单的比对[Result](https://github.com/Pagerd/PLCT/tree/main/Report/Nov/week21/2303ResultReport.md)

- 对openEuler2309独立发版镜像进行lpi4a硬件测试，测得2309在lpi4a上运行正常，提交测试结果[#pr1](https://gitee.com/yunxiangluo/openEuler-RISC-V-23.09-independent/pulls/1)
- 编写了lpi4a的openEuler2309安装文档并进行提交[#pr4](https://gitee.com/yunxiangluo/openEuler-RISC-V-23.09-independent/pulls/4)
- 对openEuler2309独立发版镜像进行VF2硬件测试，测得2309在VF2上运行正常，提交测试结果[#pr6](https://gitee.com/yunxiangluo/openEuler-RISC-V-23.09-independent/pulls/6)
- 对OpenEuler 2309 RISCV qemu进行了[test1](https://github.com/Pagerd/PLCT/tree/main/Report/Nov/week21/oefor2309test_2)范围的测试，并在OpenEuler 2309 x86 及OpenEuler 2303 x86上进行对比测试，产生初步测试报告[report](https://github.com/Pagerd/PLCT/tree/main/Report/Nov/week22/Mugen.md)，遗漏部分测试套正在重新测试

##### 5.3.2 RuyiSDK测试

- 在20231107 版本中对ruyi在Ubuntu及OpenEuler 2303 2309上进行验证测试，测试通过[log](https://github.com/Pagerd/PLCT/tree/main/Report/Nov/week18/ruyi)

- 对ruyi包管理器20231126进行手动测试，发现在OpenEuler 2303 x86下下ruyi会[报错](https://github.com/Pagerd/PLCT/tree/main/Report/Nov/week22/ruyi.md)(未预装tar)并提交issue[#12](https://github.com/ruyisdk/ruyi/issues/12)

##### 5.3.2 ruyiSDK工具（SAIL、QTRVSIM）

- 对Qtrvsim的README文档及user下的两个文档进行了汉化，并对文档中的部分内容进行了验证并提交[pr#7](https://gitee.com/yunxiangluo/qtrvsim-test/pulls/7)[pr#2](https://gitee.com/yunxiangluo/qtrvsim-test/pulls/7)
- 在技术分享中对qtrvsim进行了简单的介绍，主要介绍了qtrvsim是怎样的软件
- 学习了仓库[Sail-RISCV](https://github.com/riscv/sail-riscv)，按照教程安装了Opam及Sail并运行了测试套并产出[log](https://github.com/Pagerd/PLCT/tree/main/Report/Nov/week18/sail_test)
- 创建了Sail学习笔记，并编写了通过Opam安装Sail的方式
- 进行了技术分享报告，分享了sail在ISA中的作用
- 继续学习Sail，更新学习笔记 [Note](https://github.com/Pagerd/PLCT/blob/main/Note/sail/README.md)

## SG2042 Upstream

- linux upstream 工作进展：
  - [[PATCH 0/5] riscv: sophgo: add clock support for sg2042][sg2042-lk-1]: 为 SG2042 添加 clock 支持，第一版。
  - [[PATCH v2 0/4] riscv: sophgo: add clock support for sg2042][sg2042-lk-2]: 为 SG2042 添加 clock 支持，第二版。

[sg2042-lk-1]:https://lore.kernel.org/linux-riscv/cover.1699879741.git.unicorn_wang@outlook.com/
[sg2042-lk-2]:https://lore.kernel.org/linux-riscv/cover.1701044106.git.unicorn_wang@outlook.com/

## Duo Upstream

## RVI Collaborations

### Jie Wu
参考  https://riscv.epcc.ed.ac.uk/ 开发申请 RISC-V Lab 网页的布局和样式，代码已上传到 https://github.com/jiewu-plct/sophon_plctrvlab
- 用 vite + vue3 + typescript 搭建框架
- 参考 https://riscv.epcc.ed.ac.uk/ ，完成网页布局和样式的开发
- 使用 vue 插件 vue-i18n 实现网页对于中英俄日韩五种语言的支持

## 参考链接

- [PLCT 实验室的开放职位（实习生）](https://github.com/plctlab/weloveinterns/blob/master/open-internships.md)
- [PLCT 开源进展 (PLCT Weekly)](https://github.com/plctlab/PLCT-Weekly)
- [PLCT 公开报告幻灯片（选集）](https://github.com/plctlab/PLCT-Open-Reports)
