# RISC-V工具链进展 2019/12/02

本系列文章以CC-BY-SA-NC 协议开源，如果有做 RV Toolchain 的小伙伴希望分享自己的成果，欢迎提交PR。仓库是

https://github.com/isrc-cas/PLCT-Weekly


## RISC-V V Spec LLVM 实现进展

上周忙论文，暂停更新一周。

https://github.com/isrc-cas/rvv-llvm


## 永恒天平项目更新

简介：Eternal Balance（永恒天平）是PLCT内部测评体系，测评编译系统的性能速度、代码体积和安全性等方面。我们会及时公开测评结果。目前仍处在起步阶段，测试结果如果有Bugs或缺漏，欢迎留言或开issues。仓库是

https://github.com/isrc-cas/Eternal-Balance

由于有表格和图片，请直接下载PDF查看：

https://github.com/isrc-cas/eternal-balance/blob/master/20191201-EB-RISCV.pdf

总结：

### 关于上一期卡姆派乐 RISCV IDE 的评测

上一期 PLCT Weekly 我们评测了卡姆派乐IDE，对于工具链的测评有意外之处，当时，在所使用的评测方法、编译和链接选项下，RISCV IDE 和官方相同基础版本源代码所构建 RISCV32 baremetal 工具链的 codesize 完全一致。这个结论比较意外。我们提出了几种可能性：

第一，目前免费下载的 RISCV IDE 包含了提升30%的商业代码，而PLCT的永恒天平的测试流程出现错误。我们呼吁编译社区的朋友们有空的话帮助我们来验证和审计一下测评流程是否存在遗漏和错误，共同改善永恒天平计划。
第二，目前免费下载的 RISCV IDE 包含的是开源版本的GCC，PLCT的测试流程正确，想要性能提升的话有可能需要付费购买商业版本。不过我们没有看到有相关的说明（Hmm 这可能也不是很好的商业模式？）

在上一期评测之后，卡姆派乐公司法人代表罗杰先生在CRVIC群进行了声明，全文如下：

> 声    明
>
> 近期，RISC-V以及嵌入式系统等多个相关论坛和讨论群中，有业内朋友对本公司推出的卡姆派乐IDE免费试用版本进行了评测，提出了一些问题，引发了业内人士的极大关注。为了避免对关心本公司的广大业内朋友造成误解，本公司特声明如下：
>
> 本公司目前发布的卡姆派乐IDE V0.2Beta版本，属于免费下载、无license、无时间限制的免费试用版，其中集成的是公版GCC8.3.0版本编译器。该版本的推出，是为了给RISC-V用户，特别是兆易创新GD103芯片的普通用户提供一个简洁、灵活、免费的国产芯片开发环境。
>
> 跟免费试用版相比，本公司的商业版主要做了GCC、LLVM编译器代码密度的优化、Newlib库函数的优化、OPENOCD驱动的优化以及图形化显示界面的优化工作，相关性能有较大提升。商业版的性能对比情况，将在近期择机发布。对本公司商业版本IDE感兴趣的朋友，可以联系我们。电话：17007417992；微信：hn_compiler。
>
> 本公司多年来一直致力于芯片相关的开发环境、编译、调试、多核编译、驱动、嵌入式操作系统、仿真器的定制和通用平台的研发工作。随着业务的逐步拓展，得到了广大业内朋友的关注和支持，在此表示感谢。本公司将继续致力于国产芯片基础软件的研发和推广工作，希望能够与广大业内朋友一起，为国家自主可控芯片的发展尽一点绵薄之力。
>
> 湖南卡姆派乐信息科技有限公司
>
>        2019年11月25日

所以看起来是第二条推断成立：**「第二，目前免费下载的 RISCV IDE 包含的是开源版本的GCC，PLCT的测试流程正确，想要性能提升的话有可能需要付费购买商业版本。」**

期待后续的商业版本IDE的性能提升。代码体积提升10%-30%还是很关键的，祝成功。

在国内的RISC-V交流群中，也有同行提出，如果是基于 GNU GCC 进行二次开发的话，商业版本也是需要开源，遵守 GPLv3 协议的。不知道后续的商业版本会如何选择，PLCT Weekly 也会持续关注。
